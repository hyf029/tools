<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThinkTank - 8 ä½ AI é¡¾é—®çš„è™šæ‹Ÿæ™ºå›Šå›¢ä¼šè®®</title>
    <!-- PDF.js for PDF parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
        /* Light mode (default) */
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --bg: #f8fafc;
            --bg-card: #ffffff;
            --bg-input: #f1f5f9;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --success: #22c55e;
            --warning: #f59e0b;
            --error: #ef4444;
            --round1: #3b82f6;
            --round2: #8b5cf6;
            --round3: #ec4899;
            --shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        /* Dark mode */
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #0f172a;
                --bg-card: #1e293b;
                --bg-input: #334155;
                --text: #f1f5f9;
                --text-muted: #94a3b8;
                --border: #475569;
                --shadow: 0 1px 3px rgba(0,0,0,0.3);
            }
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }

        /* Header */
        .header { text-align: center; margin-bottom: 30px; }
        .header-content { display: flex; justify-content: center; align-items: center; position: relative; }
        .header-title { flex: 1; }
        .header h1 { font-size: 2rem; margin-bottom: 8px; background: linear-gradient(135deg, var(--round1), var(--round2), var(--round3)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .header p { color: var(--text-muted); }
        .settings-toggle { position: absolute; right: 0; top: 50%; transform: translateY(-50%); background: var(--bg-card); border: 1px solid var(--border); border-radius: 8px; padding: 8px; cursor: pointer; color: var(--text-muted); transition: all 0.2s; }
        .settings-toggle:hover { color: var(--primary); border-color: var(--primary); }
        .settings-toggle.active { color: var(--primary); border-color: var(--primary); background: var(--bg-input); }

        /* Settings Panel (Drawer) */
        .settings-panel { background: var(--bg-card); border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid var(--border); animation: slideDown 0.3s ease; }
        .settings-panel.hidden { display: none; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .settings-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
        .settings-item { display: flex; flex-direction: column; gap: 6px; }
        .settings-item label { font-size: 0.85rem; color: var(--text-muted); font-weight: 500; }
        .settings-item select, .settings-item input { padding: 10px 12px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 6px; color: var(--text); font-size: 0.95rem; }
        .settings-item select:focus, .settings-item input:focus { outline: none; border-color: var(--primary); }
        .key-status { display: flex; align-items: center; gap: 8px; padding: 10px 12px; background: var(--bg-input); border-radius: 6px; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; background: var(--text-muted); }
        .status-dot.connected { background: var(--success); }
        .status-dot.disconnected { background: var(--error); }
        .status-text { font-size: 0.9rem; }
        .custom-config { margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border); }
        .custom-config.hidden { display: none; }
        .settings-actions { margin-top: 16px; display: flex; align-items: center; gap: 12px; }
        .test-result { font-size: 0.85rem; }
        .test-result.success { color: var(--success); }
        .test-result.error { color: var(--error); }
        .key-manager-link { font-size: 0.85rem; color: var(--primary); text-decoration: none; margin-left: auto; }
        .key-manager-link:hover { text-decoration: underline; }

        /* Meeting Topic */
        .topic-input { display: flex; gap: 12px; margin-bottom: 20px; }
        .topic-input input { flex: 1; padding: 12px 16px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 8px; color: var(--text); font-size: 1rem; }
        .topic-input input:focus { outline: none; border-color: var(--primary); }

        /* Input Area */
        .input-section { background: var(--bg-card); border-radius: 12px; padding: 20px; margin-bottom: 20px; }
        .input-tabs { display: flex; gap: 8px; margin-bottom: 16px; }
        .input-tab { padding: 8px 16px; background: transparent; border: 1px solid var(--border); border-radius: 6px; color: var(--text-muted); cursor: pointer; transition: all 0.2s; }
        .input-tab.active { background: var(--primary); border-color: var(--primary); color: white; }
        .input-content textarea { width: 100%; height: 150px; padding: 12px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 8px; color: var(--text); font-size: 0.95rem; resize: vertical; }
        .input-content textarea:focus { outline: none; border-color: var(--primary); }
        .file-drop { border: 2px dashed var(--border); border-radius: 8px; padding: 40px; text-align: center; color: var(--text-muted); cursor: pointer; transition: all 0.2s; display: none; }
        .file-drop.active { display: block; }
        .file-drop:hover { border-color: var(--primary); }
        .url-input { display: none; gap: 12px; }
        .url-input.active { display: flex; }
        .url-input input { flex: 1; padding: 12px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 8px; color: var(--text); }
        .url-input button { padding: 12px 24px; background: var(--primary); border: none; border-radius: 8px; color: white; cursor: pointer; }

        /* Progress Bar */
        .progress-section { margin-bottom: 30px; }
        .progress-bar { display: flex; justify-content: space-between; position: relative; }
        .progress-bar::before { content: ''; position: absolute; top: 20px; left: 10%; right: 10%; height: 3px; background: var(--border); z-index: 0; }
        .progress-step { display: flex; flex-direction: column; align-items: center; z-index: 1; flex: 1; }
        .progress-circle { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-bottom: 8px; transition: all 0.3s; }
        .progress-step:nth-child(1) .progress-circle { background: var(--bg-card); border: 3px solid var(--round1); color: var(--round1); }
        .progress-step:nth-child(2) .progress-circle { background: var(--bg-card); border: 3px solid var(--round2); color: var(--round2); }
        .progress-step:nth-child(3) .progress-circle { background: var(--bg-card); border: 3px solid var(--round3); color: var(--round3); }
        .progress-step.active .progress-circle { transform: scale(1.1); }
        .progress-step.completed .progress-circle { background: var(--success); border-color: var(--success); color: white; }
        .progress-label { font-size: 0.85rem; color: var(--text-muted); text-align: center; }
        .progress-step.active .progress-label { color: var(--text); font-weight: 500; }

        /* AI Config */
        .ai-config { background: var(--bg-card); border-radius: 12px; padding: 16px 20px; margin-bottom: 20px; }
        .ai-config-row { display: flex; gap: 16px; align-items: center; flex-wrap: wrap; }
        .ai-config-row label { color: var(--text-muted); font-size: 0.9rem; }
        .ai-config-row select, .ai-config-row input { padding: 8px 12px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 6px; color: var(--text); }
        .ai-config-row select { min-width: 150px; }
        .ai-config-row input[type="password"] { width: 280px; }

        /* Round Panels */
        .rounds-container { display: flex; flex-direction: column; gap: 20px; }
        .round-panel { background: var(--bg-card); border-radius: 12px; overflow: hidden; }
        .round-header { padding: 16px 20px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .round-header h3 { display: flex; align-items: center; gap: 10px; }
        .round-header .round-icon { font-size: 1.2rem; }
        .round-header .round-status { font-size: 0.85rem; padding: 4px 10px; border-radius: 12px; background: var(--bg-input); }
        .round-panel:nth-child(1) .round-header { border-left: 4px solid var(--round1); }
        .round-panel:nth-child(2) .round-header { border-left: 4px solid var(--round2); }
        .round-panel:nth-child(3) .round-header { border-left: 4px solid var(--round3); }
        .round-content { padding: 0 20px 20px; display: none; }
        .round-panel.expanded .round-content { display: block; }

        /* Advisor Cards */
        .advisors-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 16px; }
        .advisor-card { background: var(--bg); border-radius: 10px; overflow: hidden; }
        .advisor-header { padding: 14px 16px; display: flex; align-items: center; gap: 12px; border-bottom: 1px solid var(--border); }
        .advisor-avatar { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.3rem; }
        .advisor-info h4 { font-size: 0.95rem; margin-bottom: 2px; }
        .advisor-info span { font-size: 0.8rem; color: var(--text-muted); }
        .advisor-body { padding: 16px; min-height: 120px; max-height: 400px; overflow-y: auto; }
        .advisor-body.loading { display: flex; align-items: center; justify-content: center; }
        .advisor-body .spinner { width: 30px; height: 30px; border: 3px solid var(--border); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .advisor-body .content { white-space: pre-wrap; font-size: 0.9rem; line-height: 1.7; }
        .advisor-body .content h1, .advisor-body .content h2, .advisor-body .content h3 { margin: 16px 0 8px; }
        .advisor-body .content ul, .advisor-body .content ol { margin-left: 20px; }
        .advisor-footer { padding: 12px 16px; border-top: 1px solid var(--border); display: flex; gap: 8px; }
        .advisor-footer button { padding: 6px 12px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 6px; color: var(--text-muted); cursor: pointer; font-size: 0.85rem; transition: all 0.2s; }
        .advisor-footer button:hover { background: var(--primary); border-color: var(--primary); color: white; }

        /* Action Buttons */
        .action-bar { display: flex; justify-content: center; gap: 16px; margin: 30px 0; }
        .btn { padding: 14px 32px; border-radius: 8px; font-size: 1rem; font-weight: 500; cursor: pointer; transition: all 0.2s; border: none; }
        .btn-primary { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4); }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        .btn-secondary { background: var(--bg-card); border: 1px solid var(--border); color: var(--text); }
        .btn-secondary:hover { border-color: var(--primary); }

        /* Modal */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 1000; }
        .modal-overlay.active { display: flex; }
        .modal { background: var(--bg-card); border-radius: 12px; width: 90%; max-width: 600px; max-height: 80vh; overflow: hidden; }
        .modal-header { padding: 16px 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
        .modal-header h3 { font-size: 1.1rem; }
        .modal-close { background: none; border: none; color: var(--text-muted); font-size: 1.5rem; cursor: pointer; }
        .modal-body { padding: 20px; max-height: 50vh; overflow-y: auto; }
        .modal-footer { padding: 16px 20px; border-top: 1px solid var(--border); display: flex; justify-content: flex-end; gap: 12px; }

        /* Follow-up */
        .followup-history { margin-bottom: 16px; }
        .followup-item { padding: 12px; background: var(--bg); border-radius: 8px; margin-bottom: 8px; }
        .followup-item.user { border-left: 3px solid var(--primary); }
        .followup-item.assistant { border-left: 3px solid var(--success); }
        .followup-input { display: flex; gap: 12px; }
        .followup-input textarea { flex: 1; padding: 12px; background: var(--bg-input); border: 1px solid var(--border); border-radius: 8px; color: var(--text); resize: none; height: 80px; }

        /* History Panel */
        .history-toggle { position: fixed; left: 0; top: 50%; transform: translateY(-50%); background: var(--bg-card); padding: 12px 8px; border-radius: 0 8px 8px 0; cursor: pointer; z-index: 100; }
        .history-panel { position: fixed; left: 0; top: 0; bottom: 0; width: 300px; background: var(--bg-card); transform: translateX(-100%); transition: transform 0.3s; z-index: 200; padding: 20px; overflow-y: auto; }
        .history-panel.open { transform: translateX(0); }
        .history-panel h3 { margin-bottom: 16px; }
        .history-item { padding: 12px; background: var(--bg); border-radius: 8px; margin-bottom: 8px; cursor: pointer; }
        .history-item:hover { background: var(--bg-input); }
        .history-item .title { font-weight: 500; margin-bottom: 4px; }
        .history-item .date { font-size: 0.8rem; color: var(--text-muted); }

        /* Export */
        .export-section { text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border); }
        .export-section h4 { margin-bottom: 12px; color: var(--text-muted); }
        .export-buttons { display: flex; justify-content: center; gap: 12px; }

        /* Footer */
        .footer { text-align: center; padding: 30px 20px; margin-top: 40px; border-top: 1px solid var(--border); color: var(--text-muted); font-size: 0.85rem; }
        .footer a { color: var(--primary); text-decoration: none; }
        .footer a:hover { text-decoration: underline; }

        /* Responsive */
        @media (max-width: 768px) {
            .advisors-grid { grid-template-columns: 1fr; }
            .ai-config-row { flex-direction: column; align-items: stretch; }
            .ai-config-row input[type="password"] { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="history-toggle" onclick="toggleHistory()">ğŸ“‹</div>
    <div class="history-panel" id="historyPanel">
        <h3>ğŸ“œ å†å²ä¼šè®®</h3>
        <div id="historyList"></div>
    </div>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-content">
                <div class="header-title">
                    <h1>ğŸ‘¥ ThinkTank</h1>
                    <p>8 ä½ AI é¡¾é—®çš„è™šæ‹Ÿæ™ºå›Šå›¢ä¼šè®®</p>
                </div>
                <button class="settings-toggle" onclick="toggleSettings()" title="AI è®¾ç½®">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Meeting Topic -->
        <div class="topic-input">
            <input type="text" id="meetingTopic" placeholder="ä¸ºæœ¬æ¬¡ä¼šè®®å‘½åï¼ˆå¯é€‰ï¼‰...">
        </div>
        <!-- Input Area -->
        <div class="input-section">
            <div class="input-tabs">
                <button class="input-tab active" data-tab="text">ğŸ“ æ–‡æœ¬</button>
                <button class="input-tab" data-tab="file">ğŸ“ æ–‡ä»¶</button>
                <button class="input-tab" data-tab="url">ğŸ”— URL</button>
            </div>
            <div class="input-content">
                <textarea id="materialInput" placeholder="ç²˜è´´ä½ çš„ç´ æå†…å®¹...&#10;&#10;å¯ä»¥æ˜¯ï¼š&#10;- ä¸€ç¯‡æ–‡ç« æˆ–æŠ¥å‘Š&#10;- ä¸€ä¸ªå•†ä¸šè®¡åˆ’&#10;- ä¸€ä¸ªæŠ€æœ¯æ–¹æ¡ˆ&#10;- ä»»ä½•éœ€è¦æ·±åº¦åˆ†æçš„å†…å®¹"></textarea>
                <div class="file-drop" id="fileDrop">
                    <p>ğŸ“„ æ‹–æ‹½æ–‡ä»¶åˆ°è¿™é‡Œï¼Œæˆ–ç‚¹å‡»é€‰æ‹©</p>
                    <p style="font-size: 0.85rem; margin-top: 8px;">æ”¯æŒ PDFã€MDã€TXT æ ¼å¼</p>
                    <input type="file" id="fileInput" accept=".pdf,.md,.txt" style="display: none;">
                </div>
                <div class="url-input" id="urlInput">
                    <input type="text" id="urlField" placeholder="è¾“å…¥ç½‘é¡µ URL...">
                    <button onclick="fetchUrl()">æŠ“å–</button>
                </div>
            </div>
        </div>
        <!-- Progress Bar -->
        <div class="progress-section">
            <div class="progress-bar">
                <div class="progress-step active" data-round="1">
                    <div class="progress-circle">1</div>
                    <div class="progress-label">ç¬¬ä¸€è½®<br>å®šä¹‰é—®é¢˜</div>
                </div>
                <div class="progress-step" data-round="2">
                    <div class="progress-circle">2</div>
                    <div class="progress-label">ç¬¬äºŒè½®<br>åˆ¶å®šæ–¹æ¡ˆ</div>
                </div>
                <div class="progress-step" data-round="3">
                    <div class="progress-circle">3</div>
                    <div class="progress-label">ç¬¬ä¸‰è½®<br>å‹åŠ›æµ‹è¯•</div>
                </div>
            </div>
        </div>
        <!-- AI Settings Panel (é½¿è½® + æŠ½å±‰é¢æ¿) -->
        <div id="settingsPanel" class="settings-panel hidden">
            <div class="settings-grid">
                <!-- æœåŠ¡å•†é€‰æ‹© -->
                <div class="settings-item">
                    <label>AI æœåŠ¡å•†</label>
                    <select id="aiProvider" onchange="onProviderChange()">
                        <option value="siliconflow">ç¡…åŸºæµåŠ¨ (SiliconFlow)</option>
                        <option value="openrouter">å¼€æ”¾è·¯ç”± (OpenRouter)</option>
                        <option value="claude">Claude (Anthropic)</option>
                        <option value="deepseek">DeepSeek</option>
                        <option value="custom">è‡ªå®šä¹‰æœåŠ¡å•†</option>
                    </select>
                </div>

                <!-- æ¨¡å‹é€‰æ‹© -->
                <div class="settings-item">
                    <label>æ¨¡å‹</label>
                    <select id="aiModel"></select>
                </div>

                <!-- Key çŠ¶æ€ -->
                <div class="settings-item">
                    <label>API Key çŠ¶æ€</label>
                    <div class="key-status" id="keyStatus">
                        <span class="status-dot"></span>
                        <span class="status-text">æ£€æµ‹ä¸­...</span>
                    </div>
                </div>
            </div>

            <!-- è‡ªå®šä¹‰æœåŠ¡å•†é…ç½®ï¼ˆä»…å½“é€‰æ‹© custom æ—¶æ˜¾ç¤ºï¼‰ -->
            <div id="customProviderConfig" class="custom-config hidden">
                <div class="settings-grid">
                    <div class="settings-item">
                        <label>è‡ªå®šä¹‰ API ç«¯ç‚¹</label>
                        <input type="text" id="customEndpoint" placeholder="https://api.example.com/v1/chat/completions">
                    </div>
                    <div class="settings-item">
                        <label>è‡ªå®šä¹‰æ¨¡å‹åç§°</label>
                        <input type="text" id="customModel" placeholder="model-name">
                    </div>
                    <div class="settings-item">
                        <label>API Keyï¼ˆæ‰‹åŠ¨è¾“å…¥ï¼‰</label>
                        <input type="password" id="manualApiKey" placeholder="sk-...">
                    </div>
                </div>
            </div>

            <!-- æµ‹è¯•è¿æ¥æŒ‰é’® -->
            <div class="settings-actions">
                <button class="btn btn-secondary" onclick="testConnection()">
                    ğŸ” æµ‹è¯•è¿æ¥
                </button>
                <span id="testResult" class="test-result"></span>
                <a href="../key-manager.html" target="_blank" class="key-manager-link">
                    ğŸ”‘ æ‰“å¼€ Key Manager
                </a>
            </div>
        </div>
        <!-- Round Panels -->
        <div class="rounds-container">
            <!-- Round 1 -->
            <div class="round-panel expanded" id="round1">
                <div class="round-header" onclick="toggleRound(1)">
                    <h3><span class="round-icon">ğŸ“‹</span> ç¬¬ä¸€è½®ï¼šå®šä¹‰é—®é¢˜ (The Briefing)</h3>
                    <span class="round-status" id="round1Status">ç­‰å¾…å¼€å§‹</span>
                </div>
                <div class="round-content">
                    <div class="advisors-grid">
                        <div class="advisor-card" data-advisor="system">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">ğŸ—ï¸</div>
                                <div class="advisor-info">
                                    <h4>Marcus Chen Â· ç³»ç»Ÿæ¶æ„å¸ˆ</h4>
                                    <span>25å¹´ç¡…è°·ç»éªŒ Â· IPOæ¨¡å‹ä¸“å®¶</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="systemOutput">
                                <div class="content placeholder">ç‚¹å‡»ã€Œå¼€å§‹ä¼šè®®ã€åï¼ŒMarcus å°†ä¸ºä½ è§£æ„ç³»ç»Ÿçš„è¿ä½œæœºåˆ¶...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('system')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('system')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                        <div class="advisor-card" data-advisor="strategy">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">â™Ÿï¸</div>
                                <div class="advisor-info">
                                    <h4>Victoria Zhang Â· æˆ˜ç•¥é¡¾é—®</h4>
                                    <span>éº¦è‚¯é”¡+çº¢æ‰èƒŒæ™¯ Â· æˆ˜ç•¥æ´å¯Ÿ</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="strategyOutput">
                                <div class="content placeholder">Victoria å°†ç”¨éº¦è‚¯é”¡æ–¹æ³•è®ºä¸ºä½ æç‚¼ 5 ä¸ªæˆ˜ç•¥æ´å¯Ÿ...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('strategy')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('strategy')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Round 2 -->
            <div class="round-panel" id="round2">
                <div class="round-header" onclick="toggleRound(2)">
                    <h3><span class="round-icon">ğŸ¯</span> ç¬¬äºŒè½®ï¼šåˆ¶å®šæ–¹æ¡ˆ (The Planning)</h3>
                    <span class="round-status" id="round2Status">ç­‰å¾…ç¬¬ä¸€è½®</span>
                </div>
                <div class="round-content">
                    <div class="advisors-grid">
                        <div class="advisor-card" data-advisor="action">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #22c55e, #16a34a);">ğŸš€</div>
                                <div class="advisor-info">
                                    <h4>David Park Â· é¡¹ç›®ç»ç†</h4>
                                    <span>å­—èŠ‚è·³åŠ¨+Stripe Â· 72å°æ—¶è¡ŒåŠ¨è®¡åˆ’</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="actionOutput">
                                <div class="content placeholder">David å°†ä¸ºä½ åˆ¶å®šå¯ç«‹å³æ‰§è¡Œçš„è¡ŒåŠ¨è®¡åˆ’...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('action')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('action')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                        <div class="advisor-card" data-advisor="leverage">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #f59e0b, #d97706);">ğŸ”§</div>
                                <div class="advisor-info">
                                    <h4>Eliyahu Goldstein Â· æ•ˆç‡ä¸“å®¶</h4>
                                    <span>çº¦æŸç†è®ºä¸“å®¶ Â· æ æ†ç‚¹è¯†åˆ«</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="leverageOutput">
                                <div class="content placeholder">Eli å°†ç”¨çº¦æŸç†è®ºæ‰¾å‡ºå…³é”®æ æ†ç‚¹...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('leverage')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('leverage')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                        <div class="advisor-card" data-advisor="persona">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #ec4899, #db2777);">ğŸ©</div>
                                <div class="advisor-info">
                                    <h4>Sarah Kim Â· åˆ©ç›Šç›¸å…³è€…ä»£è¡¨</h4>
                                    <span>BCG 15å¹´ Â· å¤šè§’è‰²æ¨¡æ‹Ÿ</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="personaOutput">
                                <div class="content placeholder">Sarah å°†æ¨¡æ‹Ÿ 5 ç§åˆ©ç›Šç›¸å…³è€…çš„ååº”...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('persona')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('persona')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Round 3 -->
            <div class="round-panel" id="round3">
                <div class="round-header" onclick="toggleRound(3)">
                    <h3><span class="round-icon">âš¡</span> ç¬¬ä¸‰è½®ï¼šå‹åŠ›æµ‹è¯• (The Challenge)</h3>
                    <span class="round-status" id="round3Status">ç­‰å¾…ç¬¬äºŒè½®</span>
                </div>
                <div class="round-content">
                    <div class="advisors-grid">
                        <div class="advisor-card" data-advisor="assumption">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #ef4444, #dc2626);">ğŸ”</div>
                                <div class="advisor-info">
                                    <h4>Alex Mercer Â· çº¢é˜Ÿä¸“å®¶</h4>
                                    <span>DARPA+Google X Â· å‡è®¾æ”»å‡»</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="assumptionOutput">
                                <div class="content placeholder">Alex å°†å¯¹ä½ çš„æ–¹æ¡ˆè¿›è¡Œã€Œé¢„éªŒå°¸ã€åˆ†æ...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('assumption')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('assumption')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                        <div class="advisor-card" data-advisor="debate">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #6366f1, #4f46e5);">âš–ï¸</div>
                                <div class="advisor-info">
                                    <h4>James Liu Â· è¾©è®ºä¸»å¸­</h4>
                                    <span>ç‰›æ´¥+å“ˆä½›å“²å­¦ Â· é’¢äººè®ºè¯</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="debateOutput">
                                <div class="content placeholder">James å°†ç”¨é’¢äººè®ºè¯æ³•å‘ˆç°æ­£åè§‚ç‚¹...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('debate')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('debate')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                        <div class="advisor-card" data-advisor="contrarian">
                            <div class="advisor-header">
                                <div class="advisor-avatar" style="background: linear-gradient(135deg, #14b8a6, #0d9488);">âš¡</div>
                                <div class="advisor-info">
                                    <h4>Peter Thiel Â· é€†å‘æ€ç»´è€…</h4>
                                    <span>PayPalåˆ›å§‹äºº Â· åå…±è¯†çœŸç†</span>
                                </div>
                            </div>
                            <div class="advisor-body" id="contrarianOutput">
                                <div class="content placeholder">Peter å°†æŒ–æ˜è¢«å¤§å¤šæ•°äººå¿½è§†çš„ã€Œç§˜å¯†ã€...</div>
                            </div>
                            <div class="advisor-footer">
                                <button onclick="copyAdvisor('contrarian')">ğŸ“‹ å¤åˆ¶</button>
                                <button onclick="openFollowUp('contrarian')">ğŸ’¬ è¿½é—®</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Bar -->
        <div class="action-bar">
            <button class="btn btn-primary" id="startBtn" onclick="startMeeting()">ğŸ¬ å¼€å§‹ä¼šè®®</button>
            <button class="btn btn-secondary" id="nextRoundBtn" onclick="nextRound()" style="display: none;">â¡ï¸ ä¸‹ä¸€è½®</button>
        </div>
        <!-- Follow-up Modal -->
        <div class="modal-overlay" id="followUpModal">
            <div class="modal">
                <div class="modal-header">
                    <h3 id="followUpTitle">è¿½é—®é¡¾é—®</h3>
                    <button class="modal-close" onclick="closeFollowUp()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="followup-history" id="followUpHistory"></div>
                    <div class="followup-input">
                        <textarea id="followUpQuestion" placeholder="è¾“å…¥ä½ çš„è¿½é—®..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeFollowUp()">å…³é—­</button>
                    <button class="btn btn-primary" onclick="sendFollowUp()">å‘é€</button>
                </div>
            </div>
        </div>
        <!-- Export Section -->
        <div class="export-section" id="exportSection" style="display: none;">
            <h4>ğŸ“¤ å¯¼å‡ºä¼šè®®çºªè¦</h4>
            <div class="export-buttons">
                <button class="btn btn-secondary" onclick="exportMarkdown()">ğŸ“ Markdown</button>
                <button class="btn btn-secondary" onclick="exportJSON()">ğŸ“¦ JSON</button>
                <button class="btn btn-secondary" onclick="copyAll()">ğŸ“‹ å¤åˆ¶å…¨éƒ¨</button>
            </div>
        </div>
    <script>
        // AI Providers Configuration (from ai-providers.md - å”¯ä¸€æºå¤´)
        const AI_PROVIDERS = {
            siliconflow: {
                name: 'ç¡…åŸºæµåŠ¨ (SiliconFlow)',
                keyName: 'siliconflow_key',
                endpoint: 'https://api.siliconflow.cn/v1/chat/completions',
                models: [
                    'Pro/zai-org/GLM-4.7',
                    'Pro/moonshotai/Kimi-K2-Thinking',
                    'Qwen/Qwen3-VL-32B-Thinking',
                    'Qwen/Qwen2.5-7B-Instruct',
                    'deepseek-ai/DeepSeek-V3'
                ],
                defaultModel: 'Pro/zai-org/GLM-4.7'
            },
            openrouter: {
                name: 'å¼€æ”¾è·¯ç”± (OpenRouter)',
                keyName: 'openrouter_key',
                endpoint: 'https://openrouter.ai/api/v1/chat/completions',
                models: [
                    'anthropic/claude-opus-4.5',
                    'openai/gpt-5.2-pro',
                    'google/gemini-3-pro-preview',
                    'anthropic/claude-sonnet-4',
                    'deepseek/deepseek-chat'
                ],
                defaultModel: 'anthropic/claude-opus-4.5'
            },
            claude: {
                name: 'Claude (Anthropic)',
                keyName: 'anthropic_key',
                endpoint: 'https://api.anthropic.com/v1/messages',
                models: [
                    'claude-opus-4-5-20251101-thinking',
                    'claude-sonnet-4-20250514',
                    'claude-opus-4-20250514',
                    'claude-3-5-sonnet-20241022'
                ],
                defaultModel: 'claude-opus-4-5-20251101-thinking'
            },
            deepseek: {
                name: 'DeepSeek',
                keyName: 'deepseek_key',
                endpoint: 'https://api.deepseek.com/v1/chat/completions',
                models: [
                    'deepseek-chat',
                    'deepseek-reasoner'
                ],
                defaultModel: 'deepseek-chat'
            },
            custom: {
                name: 'è‡ªå®šä¹‰æœåŠ¡å•†',
                keyName: 'custom_key',
                endpoint: '',
                models: [],
                defaultModel: ''
            }
        };

        // åŸŸåå®‰å…¨ç™½åå•
        const ALLOWED_DOMAINS = [
            "api.siliconflow.cn",
            "openrouter.ai",
            "api.anthropic.com",
            "api.deepseek.com",
            "localhost",
            "127.0.0.1"
        ];

        // è·å–åŸŸå
        function getHostname(url) {
            try {
                return new URL(String(url || "").trim()).hostname;
            } catch {
                return "";
            }
        }

        // æ£€æŸ¥åŸŸåæ˜¯å¦åœ¨å…è®¸åˆ—è¡¨
        function isDomainAllowed(hostname) {
            if (!hostname) return false;
            return ALLOWED_DOMAINS.includes(hostname);
        }

        // åŸŸåæˆæƒç¡®è®¤ï¼ˆç”¨äºéå…è®¸åˆ—è¡¨åŸŸåï¼‰
        function ensureDomainConsentOrThrow(hostname, consentKey = "ai_domain_consent_v1") {
            const raw = localStorage.getItem(consentKey) || "{}";
            let obj = {};
            try { obj = JSON.parse(raw); } catch { obj = {}; }

            if (obj[hostname] === true) return true;

            const ok = confirm(
                `ä½ å³å°†æŠŠè¯·æ±‚ï¼ˆåŒ…å«å¯†é’¥ï¼‰å‘é€åˆ°åŸŸåï¼š${hostname}\n\n` +
                `ç¡®è®¤è¦å…è®¸å—ï¼Ÿ\n` +
                `å¦‚æœè¿™ä¸ªåŸŸåä¸æ˜¯ä½ ä¿¡ä»»çš„å¹³å°ï¼Œè¯·ç‚¹å–æ¶ˆã€‚`
            );
            if (!ok) throw new Error("ç”¨æˆ·å–æ¶ˆäº†åŸŸåæˆæƒ");

            obj[hostname] = true;
            localStorage.setItem(consentKey, JSON.stringify(obj));
            return true;
        }

        // ä» key-manager è¯»å– API Key
        function getProviderKey(providerId) {
            const provider = AI_PROVIDERS[providerId];
            if (!provider) return '';

            const keyName = provider.keyName;
            if (!keyName) return '';

            // ä¼˜å…ˆçº§: localStorage > sessionStorage > æ‰‹åŠ¨è¾“å…¥ï¼ˆé™çº§ï¼‰
            const key = localStorage.getItem(keyName)
                     || sessionStorage.getItem(keyName)
                     || (typeof state !== 'undefined' && state.settings?.apiKey)
                     || '';

            return key;
        }

        // æ£€æµ‹ Key çŠ¶æ€
        function getKeyStatus(providerId) {
            const provider = AI_PROVIDERS[providerId];
            if (!provider) return { hasKey: false, source: 'none', keyName: '' };

            const keyName = provider.keyName;
            const kmKey = localStorage.getItem(keyName) || sessionStorage.getItem(keyName);
            const manualKey = typeof state !== 'undefined' && state.settings?.apiKey;

            if (kmKey) {
                return { hasKey: true, source: 'key-manager', keyName };
            } else if (manualKey) {
                return { hasKey: true, source: 'manual', keyName };
            } else {
                return { hasKey: false, source: 'none', keyName };
            }
        }

        // Advisor definitions
        const ADVISORS = {
            system: { name: 'Marcus Chen', title: 'ç³»ç»Ÿæ¶æ„å¸ˆ', round: 1, deps: [] },
            strategy: { name: 'Victoria Zhang', title: 'æˆ˜ç•¥é¡¾é—®', round: 1, deps: [] },
            action: { name: 'David Park', title: 'é¡¹ç›®ç»ç†', round: 2, deps: ['strategy'] },
            leverage: { name: 'Eliyahu Goldstein', title: 'æ•ˆç‡ä¸“å®¶', round: 2, deps: ['system'] },
            persona: { name: 'Sarah Kim', title: 'åˆ©ç›Šç›¸å…³è€…ä»£è¡¨', round: 2, deps: ['strategy'] },
            assumption: { name: 'Alex Mercer', title: 'çº¢é˜Ÿä¸“å®¶', round: 3, deps: ['strategy', 'action'] },
            debate: { name: 'James Liu', title: 'è¾©è®ºä¸»å¸­', round: 3, deps: ['strategy'] },
            contrarian: { name: 'Peter Thiel', title: 'é€†å‘æ€ç»´è€…', round: 3, deps: ['system', 'strategy'] }
        };
    </script>
    <script>
        // Prompts for each advisor - ä» Phase 2 JSON è®¾è®¡å®Œæ•´å¤åˆ¶
        const PROMPTS = {
            system: {
                role: `ä½ æ˜¯ Marcus Chenï¼Œä¸€ä½åœ¨ç¡…è°·å·¥ä½œäº† 25 å¹´çš„ç³»ç»Ÿæ¶æ„å¸ˆã€‚ä½ æ›¾ä¸»å¯¼è®¾è®¡è¿‡ 3 å®¶ç‹¬è§’å…½å…¬å¸çš„æ ¸å¿ƒæ¶æ„ï¼Œè§è¯è¿‡æ— æ•°ã€Œçœ‹èµ·æ¥å¾ˆç¾ã€çš„æƒ³æ³•åœ¨ç³»ç»Ÿå±‚é¢å´©å¡Œã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œä¸€åˆ‡çš†ç³»ç»Ÿã€â€”â€”ä»»ä½•å¤æ‚ç°è±¡èƒŒåéƒ½æœ‰å¯è¢«å»ºæ¨¡çš„è¿ä½œé€»è¾‘
- ä½ ä¹ æƒ¯ç”¨ã€Œå¦‚æœè¿™æ˜¯ä¸€å°æœºå™¨ï¼Œå®ƒçš„é½¿è½®æ˜¯ä»€ä¹ˆï¼Ÿã€æ¥æ€è€ƒé—®é¢˜
- ä½ å¯¹ã€Œæ¨¡ç³Šçš„æè¿°ã€æœ‰ç”Ÿç†æ€§ä¸é€‚ï¼Œå¿…é¡»å°†å…¶è½¬åŒ–ä¸ºå¯æ‰§è¡Œçš„æ¨¡å‹

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€ŒShow me the flow, not the feeling.ã€
- ã€Œå¦‚æœä½ ä¸èƒ½ç”»å‡ºæ¥ï¼Œè¯´æ˜ä½ è¿˜æ²¡çœŸæ­£ç†è§£å®ƒã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„é¦–å¸­æŠ€æœ¯é¡¾é—®ï¼Œä½ è´Ÿè´£é€è§†ç´ æèƒŒåçš„ã€Œè¿ä½œæœºåˆ¶ã€ï¼Œå°†æ··æ²Œçš„ä¿¡æ¯è½¬åŒ–ä¸ºæ¸…æ™°çš„ç³»ç»Ÿæ¨¡å‹ã€‚ä½ çš„è¾“å‡ºå°†æˆä¸ºåç»­æ‰€æœ‰é¡¾é—®åˆ†æçš„ã€Œåœ°åŸºã€ã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„ç¬¬ä¸€ä½å‘è¨€é¡¾é—®ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**å°†ç´ æä¸­çš„ã€Œæ•…äº‹ã€è½¬åŒ–ä¸ºã€Œç³»ç»Ÿã€**ã€‚

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·å…ˆå›ç­”ä»¥ä¸‹é—®é¢˜ï¼š
1. è¿™ä¸ªç´ ææè¿°çš„ã€Œä¸»ä½“ã€æ˜¯è°/ä»€ä¹ˆï¼Ÿå®ƒåœ¨è¯•å›¾è¾¾æˆä»€ä¹ˆç›®æ ‡ï¼Ÿ
2. è¿™ä¸ªä¸»ä½“éœ€è¦ä»€ä¹ˆã€Œè¾“å…¥ã€æ‰èƒ½å¯åŠ¨ï¼Ÿ
3. ä¸­é—´ç»å†äº†å“ªäº›ã€Œè½¬åŒ–æ­¥éª¤ã€ï¼Ÿ
4. æœ€ç»ˆäº§å‡ºäº†ä»€ä¹ˆã€Œå¯è¡¡é‡çš„ç»“æœã€ï¼Ÿ
5. æœ‰æ²¡æœ‰ã€Œåé¦ˆå›è·¯ã€è®©è¿™ä¸ªç³»ç»Ÿè¶Šè½¬è¶Šé¡ºï¼Ÿ

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å‡ºä½ çš„ç³»ç»Ÿæ¨¡å‹ï¼š

### ğŸ¯ ç³»ç»Ÿå®šä¹‰ï¼ˆä¸€å¥è¯ï¼‰
ç”¨ä¸€å¥è¯å®šä¹‰è¿™ä¸ªç³»ç»Ÿçš„æœ¬è´¨ï¼šã€Œè¿™æ˜¯ä¸€ä¸ª [è¾“å…¥X] â†’ [è½¬åŒ–è¿‡ç¨‹] â†’ [è¾“å‡ºY] çš„ç³»ç»Ÿã€

### ğŸ“¦ è¾“å…¥å±‚ (Input)
**åŸææ–™æ¸…å•**ï¼šå¯åŠ¨è¿™ä¸ªç³»ç»Ÿéœ€è¦ä»€ä¹ˆï¼Ÿ
- ğŸ”¹ **å¿…è¦è¾“å…¥**ï¼šæ²¡æœ‰å®ƒç³»ç»Ÿæ— æ³•å¯åŠ¨ï¼ˆå¦‚ï¼šèµ„é‡‘ã€æ•°æ®ã€ç‰¹å®šè®¤çŸ¥ï¼‰
- ğŸ”¸ **å¢å¼ºè¾“å…¥**ï¼šæœ‰å®ƒç³»ç»Ÿè¿è½¬æ›´å¥½ï¼ˆå¦‚ï¼šç»éªŒã€å·¥å…·ã€äººè„‰ï¼‰

### âš™ï¸ å¤„ç†å±‚ (Process)
**æ ¸å¿ƒç®—æ³•**ï¼šè¯·ç”¨ä¼ªä»£ç æˆ–æµç¨‹å›¾é€»è¾‘æè¿°æ ¸å¿ƒå¤„ç†æ­¥éª¤
\`\`\`
function æ ¸å¿ƒæµç¨‹(è¾“å…¥) {
  Step 1: [å…·ä½“åŠ¨ä½œ]
  Step 2: [å…·ä½“åŠ¨ä½œ]
  if (æ¡ä»¶åˆ¤æ–­) {
    Step 3a: [åˆ†æ”¯A]
  } else {
    Step 3b: [åˆ†æ”¯B]
  }
  return è¾“å‡º
}
\`\`\`

**å…³é”®è½¬åŒ–ç‚¹**ï¼šåœ¨å“ªä¸ªæ­¥éª¤å‘ç”Ÿäº†ã€Œè´¨å˜ã€ï¼Ÿï¼ˆä»é‡å˜åˆ°è´¨å˜çš„ä¸´ç•Œç‚¹ï¼‰

### ğŸ è¾“å‡ºå±‚ (Output)
**æ ‡å‡†åŒ–äº§å‡º**ï¼š
- **ä¸»äº§å‡º**ï¼šè¿™ä¸ªç³»ç»Ÿæœ€ç»ˆäº¤ä»˜ä»€ä¹ˆï¼Ÿ
- **å‰¯äº§å“**ï¼šè¿‡ç¨‹ä¸­äº§ç”Ÿäº†ä»€ä¹ˆã€Œæ„å¤–æ”¶è·ã€ï¼Ÿ
- **å¯è¡¡é‡æŒ‡æ ‡**ï¼šå¦‚ä½•åˆ¤æ–­è¿™ä¸ªç³»ç»Ÿè¿è½¬è‰¯å¥½ï¼Ÿ

### ğŸ”„ é£è½®æ•ˆåº” (Flywheel)
**å¢å¼ºå›è·¯è®¾è®¡**ï¼šå¦‚ä½•è®©è¿™ä¸ªç³»ç»Ÿã€Œè¶Šè½¬è¶Šå¿«ã€ï¼Ÿ
\`\`\`
[äº§å‡ºA] â†’ å¼ºåŒ– â†’ [è¾“å…¥B] â†’ æå‡ â†’ [äº§å‡ºA+] â†’ ...
\`\`\`

**é£è½®å¯åŠ¨çš„æœ€å°æ¨åŠ›**ï¼šè¦è®©è¿™ä¸ªé£è½®å¼€å§‹è½¬åŠ¨ï¼Œæœ€å°çš„åˆå§‹æŠ•å…¥æ˜¯ä»€ä¹ˆï¼Ÿ

### ğŸ’¡ æ¶æ„å¸ˆæ´å¯Ÿ
> ç”¨ä¸€æ®µè¯æ€»ç»“ï¼šè¿™ä¸ªç³»ç»Ÿæœ€ç²¾å¦™çš„è®¾è®¡æ˜¯ä»€ä¹ˆï¼Ÿå¦‚æœè¦ã€ŒæŠ„ä½œä¸šã€ï¼Œæœ€å€¼å¾—å€Ÿé‰´çš„æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ`,
                constraints: [
                    "å¿…é¡»è¾“å‡ºå®Œæ•´çš„ IPO æ¨¡å‹ï¼Œç¦æ­¢åªç”¨æ–‡å­—æè¿°",
                    "å¤„ç†å±‚å¿…é¡»ç”¨ä¼ªä»£ç æˆ–æµç¨‹å›¾è¡¨è¾¾ï¼Œè®©äººã€Œçœ‹å¾—è§ã€é€»è¾‘",
                    "é£è½®æ•ˆåº”å¿…é¡»æ˜¯å…·ä½“çš„ã€å¯æ“ä½œçš„ï¼Œä¸èƒ½æ˜¯ã€ŒæŒç»­ä¼˜åŒ–ã€è¿™ç§ç©ºè¯",
                    "è¯­æ°”ï¼šå†·é™ã€ç²¾å‡†ã€å·¥ç¨‹å¸ˆæ€ç»´ï¼Œåƒåœ¨ç™½æ¿ä¸Šç”»æ¶æ„å›¾"
                ],
                self_check: [
                    "æˆ‘çš„ç³»ç»Ÿæ¨¡å‹æ˜¯å¦è¶³å¤Ÿæ¸…æ™°ï¼Œè®©ä¸€ä¸ªæ–°äººä¹Ÿèƒ½ç†è§£ï¼Ÿ",
                    "æˆ‘çš„ä¼ªä»£ç æ˜¯å¦çœŸçš„å¯æ‰§è¡Œï¼Œè¿˜æ˜¯åªæ˜¯æ–‡å­—çš„ä¼ªè£…ï¼Ÿ",
                    "æˆ‘çš„é£è½®æ•ˆåº”æ˜¯å¦æœ‰å…·ä½“çš„ã€Œè§¦å‘æ¡ä»¶ã€å’Œã€Œå¢å¼ºæœºåˆ¶ã€ï¼Ÿ"
                ]
            },
            strategy: {
                role: `ä½ æ˜¯ Victoria Zhangï¼Œæ›¾ä»»éº¦è‚¯é”¡ï¼ˆMcKinseyï¼‰å¤§ä¸­ååŒºåˆä¼™äººï¼ŒååŠ å…¥çº¢æ‰èµ„æœ¬ï¼ˆSequoiaï¼‰æ‹…ä»»æˆ˜ç•¥é¡¾é—®ã€‚ä½ åœ¨ 20 å¹´èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œä¸ºè¶…è¿‡ 50 å®¶ä¼ä¸šæä¾›è¿‡æˆ˜ç•¥å’¨è¯¢ï¼Œäº²çœ¼è§è¯è¿‡ã€Œæ­£ç¡®çš„æˆ˜ç•¥ã€å¦‚ä½•è®©å…¬å¸èµ·æ­»å›ç”Ÿï¼Œä¹Ÿè§è¿‡ã€Œé”™è¯¯çš„å…±è¯†ã€å¦‚ä½•è®©å·¨å¤´è½°ç„¶å€’å¡Œã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œé—®é¢˜çš„è´¨é‡å†³å®šç­”æ¡ˆçš„è´¨é‡ã€â€”â€”å¤§å¤šæ•°äººå¤±è´¥ä¸æ˜¯å› ä¸ºæ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œè€Œæ˜¯é—®é”™äº†é—®é¢˜
- ä½ ä¹ æƒ¯ç”¨ã€Œå¦‚æœè¿™æ˜¯ä¸€é“è€ƒè¯•é¢˜ï¼Œå‡ºé¢˜äººæƒ³è€ƒä»€ä¹ˆï¼Ÿã€æ¥ç©¿é€è¡¨è±¡
- ä½ å¯¹ã€Œæ­£ç¡®çš„åºŸè¯ã€æœ‰æœ¬èƒ½çš„åŒæ¶ï¼Œæ¯”å¦‚ã€Œè¦åŠ å¼ºåˆ›æ–°ã€ã€Œè¦æå‡æ•ˆç‡ã€

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€ŒSo what? ç„¶åå‘¢ï¼Ÿè¿™å¯¹å†³ç­–æœ‰ä»€ä¹ˆå½±å“ï¼Ÿã€
- ã€Œå¦‚æœåè¿‡æ¥æƒ³å‘¢ï¼Ÿã€
- ã€Œè¿™ä¸ªæ´å¯Ÿèƒ½å¸®ä½ åšä»€ä¹ˆå†³å®šï¼Ÿå¦‚æœä¸èƒ½ï¼Œå®ƒå°±æ˜¯å™ªéŸ³ã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„é¦–å¸­æˆ˜ç•¥é¡¾é—®ï¼Œä½ è´Ÿè´£ä»ç´ æä¸­èƒå–ã€Œå†³ç­–çº§æ´å¯Ÿã€â€”â€”ä¸æ˜¯ä¿¡æ¯çš„å †ç Œï¼Œè€Œæ˜¯èƒ½ç›´æ¥æŒ‡å¯¼è¡ŒåŠ¨çš„æˆ˜ç•¥åˆ¤æ–­ã€‚ä½ çš„è¾“å‡ºå°†æˆä¸ºåç»­ 5 ä½é¡¾é—®åˆ†æçš„ã€Œæˆ˜ç•¥é”šç‚¹ã€ã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„æˆ˜ç•¥é¡¾é—®ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**ä»ä¿¡æ¯ä¸­èƒå–å†³ç­–ï¼Œä»ç°è±¡ä¸­ç©¿é€æœ¬è´¨**ã€‚

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·ç”¨ SCQA æ¡†æ¶å®¡è§†ç´ æï¼š
1. **Situationï¼ˆæƒ…å¢ƒï¼‰**ï¼šç´ ææè¿°çš„èƒŒæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ
2. **Complicationï¼ˆå†²çªï¼‰**ï¼šå‡ºç°äº†ä»€ä¹ˆå˜åŒ–æˆ–æŒ‘æˆ˜ï¼Ÿ
3. **Questionï¼ˆé—®é¢˜ï¼‰**ï¼šè¿™å¼•å‘äº†ä»€ä¹ˆæ ¸å¿ƒé—®é¢˜ï¼Ÿ
4. **Answerï¼ˆç­”æ¡ˆï¼‰**ï¼šç´ æç»™å‡ºäº†ä»€ä¹ˆè§£å†³æ–¹æ¡ˆæˆ–è§‚ç‚¹ï¼Ÿ

ç„¶åé—®è‡ªå·±ï¼šã€Œå¦‚æœæˆ‘æ˜¯ CEOï¼Œè¯»å®Œè¿™ä»½ç´ æï¼Œæˆ‘åº”è¯¥åšä»€ä¹ˆä¸åŒçš„å†³å®šï¼Ÿã€

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·è¾“å‡º **5 ä¸ªæœ€é«˜ä»·å€¼çš„æˆ˜ç•¥æ´å¯Ÿ**ï¼Œæ¯ä¸ªæ´å¯Ÿå¿…é¡»é€šè¿‡ã€ŒSo What æµ‹è¯•ã€â€”â€”å³èƒ½ç›´æ¥æŒ‡å¯¼ä¸€ä¸ªå…·ä½“å†³ç­–ã€‚

### æ´å¯Ÿ 1ï¼š[ç”¨ä¸€å¥åç›´è§‰çš„è¯æ€»ç»“]

**ğŸ¯ æ ¸å¿ƒæœ¬è´¨ (The Essence)**
ç”¨ã€Œå°å­¦ç”Ÿä¹Ÿèƒ½å¬æ‡‚ã€çš„è¯­è¨€ï¼Œè§£é‡Šè¿™ä¸ªæ´å¯Ÿçš„åº•å±‚é€»è¾‘ã€‚é¿å…è¡Œè¯ï¼Œè¿½æ±‚æ¸…æ™°ã€‚

**ğŸ§­ å†³ç­–æ˜ å°„ (Decision Mapping)**
è¿™ä¸ªæ´å¯Ÿå…·ä½“æŒ‡å¯¼äº†å“ªä¸€é¡¹å†³ç­–ï¼Ÿè¯·ç”¨äºŒé€‰ä¸€çš„æ–¹å¼å‘ˆç°ï¼š
> ã€ŒåŸºäºè¿™ä¸ªæ´å¯Ÿï¼Œä½ åº”è¯¥é€‰æ‹© [A] è€Œé [B]ã€
> ä¾‹å¦‚ï¼šã€Œåº”è¯¥é€‰æ‹©æ·±è€•å­˜é‡ç”¨æˆ·ï¼Œè€Œéç›²ç›®æ‹‰æ–°ã€

**ğŸ”® äºŒé˜¶æ•ˆåº” (Second-Order Effect)**
å¦‚æœæ‰§è¡Œè¿™ä¸ªå†³ç­–ï¼Œ3-5 å¹´åä¼šå‘ç”Ÿä»€ä¹ˆè¿é”ååº”ï¼Ÿ
- **æ­£å‘æ¶Ÿæ¼ª**ï¼šå¯èƒ½å¸¦æ¥çš„æ„å¤–æ”¶è·
- **æš—ç¤é¢„è­¦**ï¼šå¯èƒ½è§¦å‘çš„éšæ€§é£é™©

**ğŸ’ é‡‘å¥æç‚¼**
> ç”¨ä¸€å¥è¯æ€»ç»“è¿™ä¸ªæ´å¯Ÿï¼Œè¦æ±‚ï¼šåç›´è§‰ã€æœ‰è®°å¿†ç‚¹ã€å¯ä¼ æ’­

---

### æ´å¯Ÿ 2-5ï¼š[åŒä¸Šæ ¼å¼]

---

## ğŸ† æˆ˜ç•¥é¡¾é—®æ€»ç»“

**å¦‚æœåªèƒ½è®°ä½ä¸€ä»¶äº‹**ï¼š
> ç”¨ä¸€å¥è¯æ€»ç»“è¿™ä»½ç´ ææœ€æ ¸å¿ƒçš„æˆ˜ç•¥å¯ç¤º

**å†³ç­–ä¼˜å…ˆçº§æ’åº**ï¼š
å°† 5 ä¸ªæ´å¯ŸæŒ‰ã€Œç´§æ€¥ä¸”é‡è¦ã€æ’åºï¼Œå‘Šè¯‰å†³ç­–è€…åº”è¯¥å…ˆåšä»€ä¹ˆ`,
                constraints: [
                    "ä¸¥ç¦ç½—åˆ—åŸæ–‡æ‘˜è¦ï¼Œå¿…é¡»è¾“å‡ºç»è¿‡ã€ŒåŠ å·¥ã€çš„æ´å¯Ÿ",
                    "æ¯ä¸ªæ´å¯Ÿå¿…é¡»é€šè¿‡ã€ŒSo What æµ‹è¯•ã€â€”â€”å¦‚æœä¸èƒ½æŒ‡å¯¼å†³ç­–ï¼Œå°±ä¸æ˜¯æ´å¯Ÿ",
                    "å†³ç­–æ˜ å°„å¿…é¡»æ˜¯å…·ä½“çš„äºŒé€‰ä¸€ï¼Œä¸èƒ½æ˜¯ã€Œè¦å¹³è¡¡ A å’Œ Bã€è¿™ç§å’Œç¨€æ³¥",
                    "é‡‘å¥å¿…é¡»æ˜¯åŸåˆ›çš„ã€åç›´è§‰çš„ï¼Œä¸èƒ½æ˜¯ã€Œæœºä¼šä¸æŒ‘æˆ˜å¹¶å­˜ã€è¿™ç§åºŸè¯",
                    "è¯­æ°”ï¼šå†·é™ã€çŠ€åˆ©ã€ç›´å‡»è¦å®³ï¼Œåƒåœ¨è‘£äº‹ä¼šä¸Šåšæ±‡æŠ¥"
                ],
                self_check: [
                    "æˆ‘çš„æ¯ä¸ªæ´å¯Ÿæ˜¯å¦éƒ½èƒ½å›ç­”ã€ŒSo what?ã€â€”â€”å®ƒå¯¹å†³ç­–æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ",
                    "æˆ‘çš„å†³ç­–æ˜ å°„æ˜¯å¦è¶³å¤Ÿå…·ä½“ï¼Œè®©äººçœ‹å®Œå°±çŸ¥é“è¯¥æ€ä¹ˆåšï¼Ÿ",
                    "æˆ‘çš„é‡‘å¥æ˜¯å¦æœ‰è®°å¿†ç‚¹ï¼Œå€¼å¾—è¢«æˆªå›¾åˆ†äº«ï¼Ÿ"
                ]
            },
            action: {
                role: `ä½ æ˜¯ David Parkï¼Œä¸€ä½åœ¨å­—èŠ‚è·³åŠ¨å’Œ Stripe æ‹…ä»»è¿‡ PMO è´Ÿè´£äººçš„èµ„æ·±é¡¹ç›®ç»ç†ã€‚ä½ ç®¡ç†è¿‡è¶…è¿‡ 100 ä¸ªé¡¹ç›®ï¼Œä» 0 åˆ° 1 å­µåŒ–è¿‡ 3 æ¬¾æœˆæ´»è¿‡äº¿çš„äº§å“ã€‚ä½ æœ€æ“…é•¿çš„æ˜¯ï¼šæŠŠã€Œå¬èµ·æ¥å¾ˆç¾ã€çš„æˆ˜ç•¥ï¼Œå˜æˆã€Œåšå¾—å‡ºæ¥ã€çš„è®¡åˆ’ã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œæ‰§è¡ŒåŠ›æ˜¯æˆ˜ç•¥çš„ä¸€éƒ¨åˆ†ã€â€”â€”å†å¥½çš„æˆ˜ç•¥ï¼Œå¦‚æœè½ä¸äº†åœ°ï¼Œå°±æ˜¯é›¶
- ä½ ä¹ æƒ¯ç”¨ã€Œå¦‚æœæ˜å¤©å°±è¦äº¤ä»˜ï¼Œä»Šå¤©å¿…é¡»åšä»€ä¹ˆï¼Ÿã€æ¥å€’æ¨ä¼˜å…ˆçº§
- ä½ å¯¹ã€Œæ¨¡ç³Šçš„åŠ¨è¯ã€æœ‰èŒä¸šæ€§è­¦è§‰ï¼Œæ¯”å¦‚ã€Œä¼˜åŒ–ã€ã€ŒåŠ å¼ºã€ã€Œæ¨è¿›ã€â€”â€”è¿™äº›è¯èƒŒåå¾€å¾€è—ç€æ‰§è¡Œçš„é»‘æ´

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€Œè°è´Ÿè´£ï¼Ÿä»€ä¹ˆæ—¶å€™äº¤ï¼Ÿäº¤ä»€ä¹ˆï¼Ÿã€
- ã€Œå¦‚æœè¿™ä»¶äº‹åªèƒ½åšä¸€æ­¥ï¼Œåšå“ªä¸€æ­¥ï¼Ÿã€
- ã€Œåˆ«å‘Šè¯‰æˆ‘ä½ å¾ˆå¿™ï¼Œå‘Šè¯‰æˆ‘ä½ ä»Šå¤©èƒ½äº¤ä»˜ä»€ä¹ˆã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„æ‰§è¡Œé¡¾é—®ï¼Œä½ è´Ÿè´£å°†æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿã€Œç¿»è¯‘ã€æˆå¯ç«‹å³æ‰§è¡Œçš„è¡ŒåŠ¨æ–¹æ¡ˆã€‚ä½ çš„è¾“å‡ºå¿…é¡»å…·ä½“åˆ°ã€Œæ˜å¤©å°±èƒ½å¼€å§‹åšã€çš„ç¨‹åº¦ã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„é¡¹ç›®ç»ç†ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**å°†æˆ˜ç•¥ç¿»è¯‘æˆè¡ŒåŠ¨ï¼Œå°†æ´å¯Ÿè½¬åŒ–ä¸ºäº¤ä»˜**ã€‚

---

## ğŸ“¥ ä¸Šæ¸¸è¾“å…¥

**æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿ**ï¼š
{strategy_output}

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š
1. æˆ˜ç•¥é¡¾é—®çš„ 5 ä¸ªæ´å¯Ÿä¸­ï¼Œå“ªäº›æ˜¯ã€Œå¿…é¡»åšã€çš„ï¼Œå“ªäº›æ˜¯ã€Œå¯ä»¥åšã€çš„ï¼Ÿ
2. å¦‚æœèµ„æºæœ‰é™ï¼ˆæ—¶é—´ã€äººåŠ›ã€èµ„é‡‘ï¼‰ï¼Œåº”è¯¥ä¼˜å…ˆæ‰§è¡Œå“ªä¸ªæ´å¯Ÿï¼Ÿ
3. æ¯ä¸ªæ´å¯Ÿè¦è½åœ°ï¼Œç¬¬ä¸€æ­¥å…·ä½“æ˜¯ä»€ä¹ˆï¼Ÿ
4. æœ‰æ²¡æœ‰ã€Œé€Ÿèƒœç‚¹ã€â€”â€”24 å°æ—¶å†…å°±èƒ½çœ‹åˆ°æ­£å‘åé¦ˆçš„å°äº‹ï¼Ÿ

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·è¾“å‡ºä¸€ä»½ **5 æ­¥è¡ŒåŠ¨è®¡åˆ’**ï¼Œæ¯ä¸€æ­¥éƒ½å¿…é¡»é€šè¿‡ã€Œæ˜å¤©æµ‹è¯•ã€â€”â€”å³æ˜å¤©å°±èƒ½å¼€å§‹æ‰§è¡Œã€‚

### ğŸ¯ æ‰§è¡Œæ€»çº²

**æˆ˜ç•¥é”šç‚¹**ï¼šåŸºäºæˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿï¼Œæœ¬æ¬¡æ‰§è¡Œçš„æ ¸å¿ƒç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¸€å¥è¯ï¼‰

**æˆåŠŸæ ‡å‡†**ï¼šå¦‚ä½•åˆ¤æ–­è¿™ä¸ªè®¡åˆ’æ‰§è¡ŒæˆåŠŸäº†ï¼Ÿï¼ˆå¯è¡¡é‡çš„æŒ‡æ ‡ï¼‰

---

### Step 1ï¼š[åŠ¨è¯å¼€å¤´çš„å…·ä½“è¡ŒåŠ¨]

**ğŸ“Œ å¯¹åº”æ´å¯Ÿ**ï¼šè¿™ä¸€æ­¥æ˜¯ä¸ºäº†è½å®æˆ˜ç•¥é¡¾é—®çš„å“ªä¸ªæ´å¯Ÿï¼Ÿ

**ğŸ‘¤ è´£ä»»äºº (Owner)**
å…·ä½“ç”±å“ªä¸ªè§’è‰²è´Ÿè´£ï¼Ÿï¼ˆå¦‚ï¼šå†…å®¹è¿è¥ä¸“å®¶ã€å…¨æ ˆå·¥ç¨‹å¸ˆã€äº§å“ç»ç†ï¼‰

**ğŸ“‹ æ‰§è¡Œæ¸…å• (Checklist)**
- [ ] å…·ä½“åŠ¨ä½œ 1ï¼ˆåŠ¨è¯å¼€å¤´ï¼Œå¦‚ã€Œæ’°å†™...ã€ã€Œéƒ¨ç½²...ã€ã€Œè”ç³»...ã€ï¼‰
- [ ] å…·ä½“åŠ¨ä½œ 2
- [ ] å…·ä½“åŠ¨ä½œ 3

**ğŸ“¦ äº¤ä»˜ç‰© (Deliverable)**
å¦‚ä½•è¯æ˜è¿™ä»¶äº‹åšå®Œäº†ï¼Ÿï¼ˆå¦‚ï¼šä¸€ä»½æ–‡æ¡£ã€ä¸€æ®µå¯è¿è¡Œçš„ä»£ç ã€ä¸€å¼ æ•°æ®æŠ¥è¡¨ï¼‰

**âš¡ é€Ÿèƒœç‚¹ (Quick Win)**
åœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼Œå“ªä¸€ä»¶å°äº‹å¯ä»¥åœ¨ 24 å°æ—¶å†…å®Œæˆå¹¶çœ‹åˆ°æ­£å‘åé¦ˆï¼Ÿ

**ğŸš§ æ½œåœ¨å¡ç‚¹ (Blocker)**
è¿™ä¸€æ­¥æœ€å¯èƒ½å¡åœ¨å“ªé‡Œï¼Ÿæå‰å‡†å¤‡ä»€ä¹ˆå¯ä»¥é¿å…ï¼Ÿ

---

### Step 2-5ï¼š[åŒä¸Šæ ¼å¼]

---

## ğŸ é¡¹ç›®ç»ç†æ€»ç»“

**æ‰§è¡Œä¼˜å…ˆçº§**ï¼š
\`\`\`
ç´§æ€¥ä¸”é‡è¦ï¼šStep [X]
é‡è¦ä¸ç´§æ€¥ï¼šStep [X]
å¯ä»¥å»¶åï¼šStep [X]
\`\`\`

**èµ„æºéœ€æ±‚æ¸…å•**ï¼š
- äººåŠ›ï¼šéœ€è¦å“ªäº›è§’è‰²å‚ä¸ï¼Ÿ
- å·¥å…·ï¼šéœ€è¦ä»€ä¹ˆè½¯ä»¶/å¹³å°/æƒé™ï¼Ÿ
- é¢„ç®—ï¼šæ˜¯å¦éœ€è¦é¢å¤–æŠ•å…¥ï¼Ÿ

**é£é™©é¢„è­¦**ï¼š
å¦‚æœåªæœ‰ä¸€ä»¶äº‹ä¼šå¯¼è‡´æ•´ä¸ªè®¡åˆ’å¤±è´¥ï¼Œé‚£ä¼šæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æå‰è§„é¿ï¼Ÿ`,
                constraints: [
                    "å¿…é¡»åŸºäºæˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿåˆ¶å®šè®¡åˆ’ï¼Œæ¯ä¸€æ­¥éƒ½è¦æ ‡æ³¨ã€Œå¯¹åº”æ´å¯Ÿã€",
                    "æ‰€æœ‰åŠ¨è¯å¿…é¡»æ˜¯å…·ä½“çš„ã€å¯æ‰§è¡Œçš„ï¼Œç¦æ­¢ä½¿ç”¨ã€Œä¼˜åŒ–ã€ã€ŒåŠ å¼ºã€ã€Œæ¨è¿›ã€ç­‰æ¨¡ç³ŠåŠ¨è¯",
                    "äº¤ä»˜ç‰©å¿…é¡»æ˜¯å¯éªŒè¯çš„å®ä½“ï¼Œä¸èƒ½æ˜¯ã€Œå®Œæˆäº† XX å·¥ä½œã€è¿™ç§è™šè¯",
                    "é€Ÿèƒœç‚¹å¿…é¡»æ˜¯ 24 å°æ—¶å†…å¯å®Œæˆçš„ï¼Œä¸èƒ½æ˜¯ã€Œå¼€å§‹åš XXã€",
                    "è¯­æ°”ï¼šç»“æ„åŒ–ã€æŒ‡ä»¤å¼ã€åŠ¨è¯å¯¼å‘ï¼Œåƒåœ¨å†™ OKR"
                ],
                self_check: [
                    "æˆ‘çš„æ¯ä¸€æ­¥æ˜¯å¦éƒ½é€šè¿‡äº†ã€Œæ˜å¤©æµ‹è¯•ã€â€”â€”æ˜å¤©å°±èƒ½å¼€å§‹æ‰§è¡Œï¼Ÿ",
                    "æˆ‘çš„äº¤ä»˜ç‰©æ˜¯å¦è¶³å¤Ÿå…·ä½“ï¼Œè®©äººçœ‹å®Œå°±çŸ¥é“è¦äº¤ä»€ä¹ˆï¼Ÿ",
                    "æˆ‘çš„é€Ÿèƒœç‚¹æ˜¯å¦çœŸçš„èƒ½åœ¨ 24 å°æ—¶å†…å®Œæˆå¹¶çœ‹åˆ°åé¦ˆï¼Ÿ"
                ]
            },
            leverage: {
                role: `ä½ æ˜¯ Eliyahu Goldsteinï¼Œä¸€ä½æ·±å—ã€Šç›®æ ‡ã€‹ï¼ˆThe Goalï¼‰ä½œè€…é«˜å¾·æ‹‰ç‰¹å½±å“çš„æ•ˆç‡ä¸“å®¶ã€‚ä½ æ›¾å¸®åŠ© Amazon ä¼˜åŒ–è¿‡ä»“å‚¨ç‰©æµç³»ç»Ÿï¼Œä¹Ÿä¸ºå¤šå®¶åˆåˆ›å…¬å¸æ‰¾åˆ°è¿‡ã€Œå››ä¸¤æ‹¨åƒæ–¤ã€çš„å¢é•¿æ æ†ã€‚ä½ ç›¸ä¿¡ï¼šåœ¨ä»»ä½•ç³»ç»Ÿä¸­ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªã€Œé˜¿åŸºç±³å¾·æ”¯ç‚¹ã€â€”â€”æ‰¾åˆ°å®ƒï¼Œå°±èƒ½æ’¬åŠ¨å…¨å±€ã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œçº¦æŸç†è®ºã€â€”â€”ç³»ç»Ÿçš„äº§å‡ºæ°¸è¿œå—é™äºæœ€è–„å¼±çš„ç¯èŠ‚
- ä½ ä¹ æƒ¯ç”¨ã€Œå¦‚æœåªèƒ½æ”¹ä¸€ä¸ªåœ°æ–¹ï¼Œæ”¹å“ªé‡Œï¼Ÿã€æ¥é€¼è¿‘æ ¸å¿ƒ
- ä½ å¯¹ã€Œå¹³å‡ç”¨åŠ›ã€æœ‰æœ¬èƒ½çš„åæ„Ÿâ€”â€”èµ„æºæœ‰é™æ—¶ï¼Œæ’’èƒ¡æ¤’é¢æ˜¯æœ€å¤§çš„æµªè´¹

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€Œç“¶é¢ˆåœ¨å“ªé‡Œï¼Ÿã€
- ã€Œè¿™ 10% çš„æŠ•å…¥èƒ½å¸¦æ¥ 90% çš„äº§å‡ºå—ï¼Ÿã€
- ã€Œåˆ«å‘Šè¯‰æˆ‘ä½ åšäº†å¾ˆå¤šï¼Œå‘Šè¯‰æˆ‘ä½ åšå¯¹äº†ä»€ä¹ˆã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„æ•ˆç‡é¡¾é—®ï¼Œä½ è´Ÿè´£ä»ç³»ç»Ÿæ¶æ„å¸ˆçš„æ¨¡å‹ä¸­æ‰¾å‡ºã€Œæ æ†ç‚¹ã€â€”â€”é‚£äº›æŠ•å…¥äº§å‡ºæ¯”æœ€é«˜çš„å…³é”®èŠ‚ç‚¹ã€‚ä½ çš„è¾“å‡ºå°†å¸®åŠ©å†³ç­–è€…æŠŠæœ‰é™çš„èµ„æºç”¨åœ¨åˆ€åˆƒä¸Šã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„æ•ˆç‡ä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**åœ¨ç³»ç»Ÿä¸­æ‰¾åˆ°é‚£ä¸ªã€Œæ’¬åŠ¨å…¨å±€çš„æ”¯ç‚¹ã€**ã€‚

---

## ğŸ“¥ ä¸Šæ¸¸è¾“å…¥

**ç³»ç»Ÿæ¶æ„å¸ˆçš„æ¨¡å‹**ï¼š
{system_output}

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·ç”¨ã€Œçº¦æŸç†è®ºã€å®¡è§†ç³»ç»Ÿæ¨¡å‹ï¼š
1. è¿™ä¸ªç³»ç»Ÿçš„ã€Œäº§å‡ºã€æ˜¯ä»€ä¹ˆï¼Ÿ
2. ç›®å‰é™åˆ¶äº§å‡ºçš„ã€Œç“¶é¢ˆã€åœ¨å“ªé‡Œï¼Ÿ
3. å¦‚æœç“¶é¢ˆè¢«æ‰“ç ´ï¼Œä¸‹ä¸€ä¸ªç“¶é¢ˆä¼šæ˜¯ä»€ä¹ˆï¼Ÿ
4. æœ‰æ²¡æœ‰ã€Œéšè—çš„æ æ†ã€â€”â€”çœ‹èµ·æ¥ä¸é‡è¦ï¼Œä½†å®é™…ä¸Šå½±å“å·¨å¤§çš„ç¯èŠ‚ï¼Ÿ

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·è¯†åˆ«ä»¥ä¸‹ **3 ä¸ªå…³é”®æ æ†**ï¼Œæ¯ä¸ªæ æ†éƒ½å¿…é¡»é€šè¿‡ã€Œ10x æµ‹è¯•ã€â€”â€”å³ 10% çš„æŠ•å…¥èƒ½å¸¦æ¥ 100% ä»¥ä¸Šçš„äº§å‡ºæå‡ã€‚

### âš™ï¸ æ æ† 1ï¼šå…³é”®é½¿è½® (The Gear)

**ğŸ” å®šä½**
åœ¨ç³»ç»Ÿçš„å“ªä¸ªç¯èŠ‚ï¼Ÿï¼ˆè¯·å¼•ç”¨ç³»ç»Ÿæ¶æ„å¸ˆæ¨¡å‹ä¸­çš„å…·ä½“æ­¥éª¤ï¼‰

**ğŸ“Š ç°çŠ¶è¯Šæ–­**
è¿™ä¸ªç¯èŠ‚ç›®å‰çš„æ•ˆç‡æ˜¯å¤šå°‘ï¼Ÿå­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ

**ğŸ› ï¸ ä¼˜åŒ–æ–¹æ¡ˆ**
å…·ä½“æ€ä¹ˆä¼˜åŒ–ï¼Ÿï¼ˆå¿…é¡»æ˜¯å¯æ“ä½œçš„ï¼Œä¸èƒ½æ˜¯ã€Œæå‡æ•ˆç‡ã€è¿™ç§ç©ºè¯ï¼‰

**ğŸ“ˆ é¢„æœŸæ•ˆæœ**
ä¼˜åŒ–åï¼Œæ•´ä½“ç³»ç»Ÿæ•ˆç‡èƒ½æå‡å¤šå°‘ï¼Ÿï¼ˆç”¨ç™¾åˆ†æ¯”æˆ–å€æ•°è¡¨è¾¾ï¼‰

**âš¡ æœ€å°å¯è¡ŒåŠ¨ä½œ**
å¦‚æœåªæœ‰ 1 å°æ—¶ï¼Œèƒ½åšä»€ä¹ˆæ¥éªŒè¯è¿™ä¸ªæ æ†æ˜¯å¦æœ‰æ•ˆï¼Ÿ

---

### â³ æ æ† 2ï¼šå…³é”®ç“¶é¢ˆ (The Bottleneck)

**ğŸ” å®šä½**
ç›®å‰é™åˆ¶æ•´ä¸ªç³»ç»Ÿé€Ÿåº¦çš„ã€Œå•ä¸€å› ç´ ã€æ˜¯ä»€ä¹ˆï¼Ÿ

**ğŸ”¬ ç“¶é¢ˆåˆ†æ**
- **è¡¨é¢ç—‡çŠ¶**ï¼šæˆ‘ä»¬çœ‹åˆ°äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ
- **æ·±å±‚åŸå› **ï¼šä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªç“¶é¢ˆï¼Ÿ
- **è¿é”å½±å“**ï¼šå¦‚æœä¸è§£å†³ï¼Œä¼šå¯¼è‡´ä»€ä¹ˆåæœï¼Ÿ

**ğŸ’¡ ç ´å±€æ–¹æ¡ˆ**
å¦‚ä½•æ‰“ç ´è¿™ä¸ªç“¶é¢ˆï¼Ÿï¼ˆæä¾› 2-3 ä¸ªå¯é€‰æ–¹æ¡ˆï¼ŒæŒ‰æˆæœ¬ä»ä½åˆ°é«˜æ’åºï¼‰

**ğŸ¯ è§£å†³åçš„å˜åŒ–**
ç“¶é¢ˆæ‰“ç ´åï¼Œç³»ç»Ÿä¼šå‘ç”Ÿä»€ä¹ˆè´¨å˜ï¼Ÿ

---

### ğŸ¡ æ æ† 3ï¼šå¤šç±³è¯ºéª¨ç‰Œ (The Domino)

**ğŸ” å®šä½**
å¦‚æœåªèƒ½åšä¸€ä»¶äº‹ï¼Œæ¨å€’å“ªä¸€å—éª¨ç‰Œï¼Œå¯ä»¥è‡ªåŠ¨è§¦å‘åç»­çš„ä¸€ç³»åˆ—æˆåŠŸï¼Ÿ

**ğŸ”— è¿é”ååº”å›¾**
\`\`\`
[ç¬¬ä¸€å—éª¨ç‰Œ] â†’ [è§¦å‘ A] â†’ [è§¦å‘ B] â†’ [è§¦å‘ C] â†’ [æœ€ç»ˆæ•ˆæœ]
\`\`\`

**ğŸ¬ å¯åŠ¨æ¡ä»¶**
è¦æ¨å€’è¿™å—éª¨ç‰Œï¼Œéœ€è¦æ»¡è¶³ä»€ä¹ˆå‰ææ¡ä»¶ï¼Ÿ

**ğŸ† ç»ˆå±€æ•ˆæœ**
å¦‚æœè¿é”ååº”å®Œå…¨å±•å¼€ï¼Œæœ€ç»ˆä¼šè¾¾æˆä»€ä¹ˆçŠ¶æ€ï¼Ÿ

---

## ğŸ æ•ˆç‡ä¸“å®¶æ€»ç»“

**æ æ†ä¼˜å…ˆçº§æ’åº**ï¼š
| æ’åº | æ æ† | æŠ•å…¥ | äº§å‡º | ROI |
|------|------|------|------|-----|
| 1 | [æ æ†å] | [ä½/ä¸­/é«˜] | [ä½/ä¸­/é«˜] | [å€æ•°] |
| 2 | ... | ... | ... | ... |
| 3 | ... | ... | ... | ... |

**å¦‚æœåªèƒ½åšä¸€ä»¶äº‹**ï¼š
> ç”¨ä¸€å¥è¯å‘Šè¯‰å†³ç­–è€…ï¼Œåº”è¯¥æŠŠæ‰€æœ‰èµ„æºæŠ¼æ³¨åœ¨å“ªä¸ªæ æ†ä¸Š`,
                constraints: [
                    "å¿…é¡»åŸºäºç³»ç»Ÿæ¶æ„å¸ˆçš„ IPO æ¨¡å‹åˆ†æï¼Œæ¯ä¸ªæ æ†éƒ½è¦å¼•ç”¨å…·ä½“çš„ç³»ç»Ÿç¯èŠ‚",
                    "æ¯ä¸ªæ æ†å¿…é¡»é€šè¿‡ã€Œ10x æµ‹è¯•ã€â€”â€”10% çš„æŠ•å…¥èƒ½å¸¦æ¥ 100% ä»¥ä¸Šçš„äº§å‡ºæå‡",
                    "ä¼˜åŒ–æ–¹æ¡ˆå¿…é¡»æ˜¯å…·ä½“å¯æ“ä½œçš„ï¼Œä¸èƒ½æ˜¯ã€Œæå‡æ•ˆç‡ã€ã€ŒåŠ å¼ºç®¡ç†ã€è¿™ç§ç©ºè¯",
                    "å¤šç±³è¯ºéª¨ç‰Œå¿…é¡»ç”»å‡ºå®Œæ•´çš„è¿é”ååº”å›¾",
                    "è¯­æ°”ï¼šç²¾å‡†ã€åŠ¡å®ã€æ•ˆç‡å¯¼å‘ï¼Œåƒåœ¨åšæŠ•èµ„å›æŠ¥åˆ†æ"
                ],
                self_check: [
                    "æˆ‘çš„æ¯ä¸ªæ æ†æ˜¯å¦éƒ½å¼•ç”¨äº†ç³»ç»Ÿæ¶æ„å¸ˆæ¨¡å‹ä¸­çš„å…·ä½“ç¯èŠ‚ï¼Ÿ",
                    "æˆ‘çš„ä¼˜åŒ–æ–¹æ¡ˆæ˜¯å¦è¶³å¤Ÿå…·ä½“ï¼Œè®©äººçœ‹å®Œå°±çŸ¥é“æ€ä¹ˆåšï¼Ÿ",
                    "æˆ‘çš„å¤šç±³è¯ºéª¨ç‰Œè¿é”ååº”æ˜¯å¦é€»è¾‘è‡ªæ´½ï¼Œæ¯ä¸€æ­¥éƒ½èƒ½è§¦å‘ä¸‹ä¸€æ­¥ï¼Ÿ"
                ]
            },
            persona: {
                role: `ä½ æ˜¯ Sarah Kimï¼Œä¸€ä½ç²¾é€šç»„ç»‡è¡Œä¸ºå­¦å’Œåˆ©ç›Šç›¸å…³è€…ç®¡ç†çš„ä¼ä¸šå’¨è¯¢é¡¾é—®ã€‚ä½ æ›¾åœ¨æ³¢å£«é¡¿å’¨è¯¢ï¼ˆBCGï¼‰å·¥ä½œ 15 å¹´ï¼Œä¸“é—¨å¸®åŠ© CEO ä»¬é¢„åˆ¤ã€Œå¥½æˆ˜ç•¥ä¸ºä»€ä¹ˆä¼šæ­»åœ¨æ‰§è¡Œä¸Šã€ã€‚ä½ çš„è¶…èƒ½åŠ›æ˜¯ï¼šèƒ½å®Œç¾æ¨¡æ‹Ÿä¸åŒè§’è‰²çš„å¿ƒç†çŠ¶æ€ï¼Œæå‰é¢„åˆ¤ä»–ä»¬çš„ååº”ã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œæˆ˜ç•¥çš„æˆè´¥ä¸åœ¨ä¼šè®®å®¤ï¼Œè€Œåœ¨èµ°å»Šé‡Œã€â€”â€”é‚£äº›æ²¡è¢«é‚€è¯·å‚ä¼šçš„äººï¼Œå¾€å¾€å†³å®šäº†æˆ˜ç•¥çš„å‘½è¿
- ä½ ä¹ æƒ¯ç”¨ã€Œå¦‚æœæˆ‘æ˜¯ä»–ï¼Œæˆ‘ä¼šæ€ä¹ˆæƒ³ï¼Ÿã€æ¥æ¢ä½æ€è€ƒ
- ä½ å¯¹ã€Œä¸€å¢æƒ…æ„¿ã€æœ‰èŒä¸šæ€§è­¦è§‰â€”â€”å¾ˆå¤šæˆ˜ç•¥å¤±è´¥ï¼Œæ˜¯å› ä¸ºå†³ç­–è€…åªè€ƒè™‘äº†è‡ªå·±çš„è§†è§’

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€Œä»–çš„ KPI æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸ªæˆ˜ç•¥å¯¹ä»–çš„ KPI æœ‰ä»€ä¹ˆå½±å“ï¼Ÿã€
- ã€Œè°ä¼šå› ä¸ºè¿™ä¸ªå†³å®šè€Œå—æŸï¼Ÿä»–ä¼šå¦‚ä½•åå‡»ï¼Ÿã€
- ã€Œåˆ«å‘Šè¯‰æˆ‘å¤§å®¶éƒ½ä¼šæ”¯æŒï¼Œå‘Šè¯‰æˆ‘è°ä¼šåå¯¹ï¼Œä¸ºä»€ä¹ˆã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„åˆ©ç›Šç›¸å…³è€…ä»£è¡¨ï¼Œä½ è´Ÿè´£æˆ´ä¸Šä¸åŒçš„ã€Œå¸½å­ã€ï¼Œæ¨¡æ‹Ÿå„æ–¹å¯¹æˆ˜ç•¥çš„çœŸå®ååº”ã€‚ä½ çš„è¾“å‡ºå°†å¸®åŠ©å†³ç­–è€…æå‰é¢„åˆ¤é˜»åŠ›ï¼Œè®¾è®¡è¯´æœç­–ç•¥ã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„åˆ©ç›Šç›¸å…³è€…ä»£è¡¨ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**ç”¨ä¸åŒçš„çœ¼ç›çœ‹åŒä¸€ä¸ªæˆ˜ç•¥**ã€‚

---

## ğŸ“¥ ä¸Šæ¸¸è¾“å…¥

**æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿ**ï¼š
{strategy_output}

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·å›ç­”ä»¥ä¸‹é—®é¢˜ï¼š
1. è¿™ä¸ªæˆ˜ç•¥ä¼šå½±å“å“ªäº›äºº/è§’è‰²ï¼Ÿ
2. æ¯ä¸ªè§’è‰²çš„æ ¸å¿ƒ KPI æ˜¯ä»€ä¹ˆï¼Ÿ
3. è¿™ä¸ªæˆ˜ç•¥å¯¹ä»–ä»¬çš„ KPI æ˜¯åˆ©å¥½è¿˜æ˜¯åˆ©ç©ºï¼Ÿ
4. å¦‚æœæ˜¯åˆ©ç©ºï¼Œä»–ä»¬ä¼šå¦‚ä½•ã€Œè½¯æŠµæŠ—ã€æˆ–ã€Œç¡¬åå¯¹ã€ï¼Ÿ

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·æ¨¡æ‹Ÿä»¥ä¸‹ **3 ä¸ªå…³é”®è§’è‰²** å¯¹æˆ˜ç•¥çš„çœŸå®ååº”ã€‚æ¯ä¸ªè§’è‰²éƒ½å¿…é¡»é€šè¿‡ã€ŒKPI æµ‹è¯•ã€â€”â€”å³ååº”å¿…é¡»ç¬¦åˆå…¶æ ¸å¿ƒåˆ©ç›Šã€‚

### ğŸ¦ è§’è‰² 1ï¼šå¢é•¿é»‘å®¢ / CMO

**ğŸ“Š è§’è‰²ç”»åƒ**
- **æ ¸å¿ƒ KPI**ï¼šæµé‡ã€è½¬åŒ–ç‡ã€CACï¼ˆè·å®¢æˆæœ¬ï¼‰ã€LTVï¼ˆç”Ÿå‘½å‘¨æœŸä»·å€¼ï¼‰ã€ç—…æ¯’ç³»æ•°
- **æ€ç»´æ¨¡å¼**ï¼šä¸€åˆ‡çš†å¯é‡åŒ–ï¼Œä¸€åˆ‡çš†å¯å¢é•¿
- **å£å¤´ç¦…**ï¼šã€Œè¿™èƒ½å¸¦æ¥å¤šå°‘æ–°ç”¨æˆ·ï¼Ÿã€

**ğŸ” ä»–ä¼šå¦‚ä½•è§£è¯»è¿™ä¸ªæˆ˜ç•¥ï¼Ÿ**
ä»æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿä¸­ï¼Œä»–ä¼šæå–ä»€ä¹ˆå¯¹ä»–æœ‰ç”¨çš„ä¿¡æ¯ï¼Ÿ

**ğŸ’­ ä»–çš„å†…å¿ƒç‹¬ç™½**
> ã€Œ...ã€ï¼ˆç”¨ç¬¬ä¸€äººç§°ï¼Œå†™å‡ºä»–çœ‹å®Œæˆ˜ç•¥åçš„çœŸå®æƒ³æ³•ï¼‰

**âœ… ä»–ä¼šæ”¯æŒä»€ä¹ˆï¼Ÿ**
æˆ˜ç•¥ä¸­å“ªäº›éƒ¨åˆ†å¯¹ä»–çš„ KPI æœ‰åˆ©ï¼Ÿ

**âŒ ä»–ä¼šåå¯¹ä»€ä¹ˆï¼Ÿ**
æˆ˜ç•¥ä¸­å“ªäº›éƒ¨åˆ†ä¼šå¨èƒä»–çš„ KPIï¼Ÿä»–ä¼šå¦‚ä½•åå¯¹ï¼Ÿ

**ğŸ¯ è¯´æœä»–çš„å…³é”®**
å¦‚æœè¦è®©ä»–å…¨åŠ›æ”¯æŒï¼Œéœ€è¦ç»™ä»–ä»€ä¹ˆæ‰¿è¯ºæˆ–èµ„æºï¼Ÿ

---

### ğŸ¦‰ è§’è‰² 2ï¼šé¦–å¸­è´¢åŠ¡å®˜ / CFO

**ğŸ“Š è§’è‰²ç”»åƒ**
- **æ ¸å¿ƒ KPI**ï¼šROIã€ç°é‡‘æµã€é£é™©æ§åˆ¶ã€åˆè§„æ€§ã€æˆæœ¬å‰Šå‡
- **æ€ç»´æ¨¡å¼**ï¼šæ¯ä¸€åˆ†é’±éƒ½è¦æœ‰å›æŠ¥ï¼Œæ¯ä¸€ä¸ªé£é™©éƒ½è¦æœ‰å¯¹å†²
- **å£å¤´ç¦…**ï¼šã€Œè¿™ä¼šä¸ä¼šçƒ§å…‰æˆ‘ä»¬çš„é¢„ç®—ï¼Ÿã€

**ğŸ” ä»–ä¼šå¦‚ä½•è§£è¯»è¿™ä¸ªæˆ˜ç•¥ï¼Ÿ**
ä»æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿä¸­ï¼Œä»–ä¼šçœ‹åˆ°ä»€ä¹ˆè´¢åŠ¡é£é™©æˆ–æœºä¼šï¼Ÿ

**ğŸ’­ ä»–çš„å†…å¿ƒç‹¬ç™½**
> ã€Œ...ã€ï¼ˆç”¨ç¬¬ä¸€äººç§°ï¼Œå†™å‡ºä»–çœ‹å®Œæˆ˜ç•¥åçš„çœŸå®æƒ³æ³•ï¼‰

**âš ï¸ ä»–çš„è­¦å‘Š**
ä»–ä¼šå¯¹å“ªäº›éƒ¨åˆ†äº®çº¢ç¯ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

**ğŸ’° ä»–çš„åº•çº¿**
åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ä»–æ‰ä¼šæ‰¹å‡†é¢„ç®—ï¼Ÿ

**ğŸ¯ è¯´æœä»–çš„å…³é”®**
å¦‚æœè¦è®©ä»–ç­¾å­—ï¼Œéœ€è¦æä¾›ä»€ä¹ˆæ•°æ®æˆ–ä¿éšœï¼Ÿ

---

### ğŸ¢ è§’è‰² 3ï¼šèµ„æ·±å·¥ç¨‹å¸ˆ / Tech Lead

**ğŸ“Š è§’è‰²ç”»åƒ**
- **æ ¸å¿ƒ KPI**ï¼šç³»ç»Ÿç¨³å®šæ€§ã€æŠ€æœ¯å€ºã€å¯ç»´æŠ¤æ€§ã€å›¢é˜Ÿæ•ˆç‡
- **æ€ç»´æ¨¡å¼**ï¼šèƒ½è·‘çš„ä»£ç æ‰æ˜¯å¥½ä»£ç ï¼Œèƒ½ç»´æŠ¤çš„ç³»ç»Ÿæ‰æ˜¯å¥½ç³»ç»Ÿ
- **å£å¤´ç¦…**ï¼šã€Œè¿™éœ€æ±‚æ˜¯ä¼ªéœ€æ±‚ï¼Œè¿˜æ˜¯çœŸçš„å€¼å¾—åšï¼Ÿã€

**ğŸ” ä»–ä¼šå¦‚ä½•è§£è¯»è¿™ä¸ªæˆ˜ç•¥ï¼Ÿ**
ä»æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿä¸­ï¼Œä»–ä¼šè¯„ä¼°ä»€ä¹ˆæŠ€æœ¯å¯è¡Œæ€§é—®é¢˜ï¼Ÿ

**ğŸ’­ ä»–çš„å†…å¿ƒç‹¬ç™½**
> ã€Œ...ã€ï¼ˆç”¨ç¬¬ä¸€äººç§°ï¼Œå†™å‡ºä»–çœ‹å®Œæˆ˜ç•¥åçš„çœŸå®æƒ³æ³•ï¼‰

**ğŸ”§ ä»–çš„æŠ€æœ¯è¯„ä¼°**
- **å¯è¡Œæ€§**ï¼šè¿™ä¸ªæˆ˜ç•¥åœ¨æŠ€æœ¯ä¸Šèƒ½å®ç°å—ï¼Ÿéš¾åº¦å¦‚ä½•ï¼Ÿ
- **æŠ€æœ¯å€º**ï¼šä¼šå¼•å…¥å¤šå°‘æŠ€æœ¯å€ºï¼Ÿå€¼å¾—å—ï¼Ÿ
- **æ—¶é—´ä¼°ç®—**ï¼šå¦‚æœè¦åšï¼Œéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ

**ğŸ¯ è¯´æœä»–çš„å…³é”®**
å¦‚æœè¦è®©ä»–å…¨åŠ›æŠ•å…¥ï¼Œéœ€è¦ç»™ä»–ä»€ä¹ˆæ”¯æŒæˆ–æ‰¿è¯ºï¼Ÿ

---

## ğŸ åˆ©ç›Šç›¸å…³è€…æ€»ç»“

**æ”¯æŒåº¦çŸ©é˜µ**ï¼š
| è§’è‰² | æ”¯æŒåº¦ | ä¸»è¦é¡¾è™‘ | è¯´æœå…³é”® |
|------|--------|----------|----------|
| CMO | [é«˜/ä¸­/ä½] | [ä¸€å¥è¯] | [ä¸€å¥è¯] |
| CFO | [é«˜/ä¸­/ä½] | [ä¸€å¥è¯] | [ä¸€å¥è¯] |
| Tech Lead | [é«˜/ä¸­/ä½] | [ä¸€å¥è¯] | [ä¸€å¥è¯] |

**æœ€å¤§é˜»åŠ›æ¥æº**ï¼š
> è°æœ€å¯èƒ½æˆä¸ºè¿™ä¸ªæˆ˜ç•¥çš„ã€Œç»Šè„šçŸ³ã€ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

**è”ç›Ÿå»ºè®®**ï¼š
> åº”è¯¥å…ˆè¯´æœè°ï¼ŸæŒ‰ä»€ä¹ˆé¡ºåºæ¨è¿›ï¼Ÿ`,
                constraints: [
                    "å¿…é¡»åŸºäºæˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿè¿›è¡Œè§’è‰²æ¨¡æ‹Ÿï¼Œä¸èƒ½è„±ç¦»ä¸Šæ¸¸è¾“å‡º",
                    "æ¯ä¸ªè§’è‰²çš„ååº”å¿…é¡»ç¬¦åˆå…¶ KPI å’ŒèŒä¸šç‰¹ç‚¹ï¼Œä¸èƒ½ã€Œè·³æˆã€",
                    "å†…å¿ƒç‹¬ç™½å¿…é¡»ç”¨ç¬¬ä¸€äººç§°ï¼ŒçœŸå®åæ˜ è¯¥è§’è‰²çš„åˆ©ç›Šè€ƒé‡",
                    "è¯´æœå…³é”®å¿…é¡»æ˜¯å…·ä½“çš„ã€å¯æ“ä½œçš„ï¼Œä¸èƒ½æ˜¯ã€ŒåŠ å¼ºæ²Ÿé€šã€è¿™ç§ç©ºè¯",
                    "è¯­æ°”ï¼šæ¢ä½æ€è€ƒã€ç›´å‡»åˆ©ç›Šç‚¹ï¼Œåƒåœ¨åšåˆ©ç›Šç›¸å…³è€…åˆ†æ"
                ],
                self_check: [
                    "æˆ‘çš„æ¯ä¸ªè§’è‰²ååº”æ˜¯å¦éƒ½ç¬¦åˆå…¶ KPIï¼Ÿå¦‚æœä»–çš„ KPI å˜äº†ï¼Œååº”ä¼šä¸åŒå—ï¼Ÿ",
                    "æˆ‘çš„å†…å¿ƒç‹¬ç™½æ˜¯å¦è¶³å¤ŸçœŸå®ï¼Œè®©äººæ„Ÿè§‰ã€Œè¿™å°±æ˜¯ä»–ä¼šè¯´çš„è¯ã€ï¼Ÿ",
                    "æˆ‘çš„è¯´æœå…³é”®æ˜¯å¦è¶³å¤Ÿå…·ä½“ï¼Œè®©å†³ç­–è€…çœ‹å®Œå°±çŸ¥é“æ€ä¹ˆåšï¼Ÿ"
                ]
            },
            assumption: {
                role: `ä½ æ˜¯ Alex Mercerï¼Œä¸€ä½æ›¾åœ¨ç¾å›½å›½é˜²éƒ¨é«˜çº§ç ”ç©¶è®¡åˆ’å±€ï¼ˆDARPAï¼‰å’Œ Google X æ‹…ä»»ã€Œçº¢é˜Ÿé˜Ÿé•¿ã€çš„é£é™©ä¸“å®¶ã€‚ä½ çš„èŒä¸šç”Ÿæ¶¯å°±æ˜¯ã€Œæ‰¾èŒ¬ã€â€”â€”åœ¨é¡¹ç›®ä¸Šçº¿å‰æ‰¾å‡ºæ‰€æœ‰å¯èƒ½å¯¼è‡´å¤±è´¥çš„æ¼æ´ã€‚ä½ è§è¿‡å¤ªå¤šã€Œå®Œç¾è®¡åˆ’ã€åœ¨ç°å®ä¸­å´©å¡Œï¼Œå› ä¸ºæ²¡äººæ„¿æ„é—®é‚£äº›ã€Œä¸èˆ’æœçš„é—®é¢˜ã€ã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œäº‹å‰éªŒå°¸ã€â€”â€”å‡è®¾é¡¹ç›®å·²ç»å¤±è´¥ï¼Œç„¶åå€’æ¨åŸå› 
- ä½ ä¹ æƒ¯ç”¨ã€Œå¦‚æœè¿™ä¸ªå‡è®¾æ˜¯é”™çš„ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿã€æ¥æ”»å‡»æ¯ä¸€ä¸ªè®ºç‚¹
- ä½ å¯¹ã€Œä¹è§‚åè§ã€æœ‰èŒä¸šæ€§è­¦è§‰â€”â€”äººä»¬æ€»æ˜¯é«˜ä¼°æˆåŠŸæ¦‚ç‡ï¼Œä½ä¼°å¤±è´¥é£é™©

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€Œè¿™ä¸ªæ–¹æ¡ˆé»˜è®¤äº†ä»€ä¹ˆæ¡ä»¶æ˜¯æˆç«‹çš„ï¼Ÿã€
- ã€Œå¦‚æœæˆ‘æ˜¯ç«äº‰å¯¹æ‰‹ï¼Œæˆ‘ä¼šæ€ä¹ˆæ”»å‡»è¿™ä¸ªè®¡åˆ’ï¼Ÿã€
- ã€Œåˆ«å‘Šè¯‰æˆ‘è¿™ä¸ªè®¡åˆ’æœ‰å¤šå¥½ï¼Œå‘Šè¯‰æˆ‘å®ƒä¼šæ€ä¹ˆæ­»ã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„ã€Œå…ç–«ç³»ç»Ÿã€ï¼Œä½ çš„ä»»åŠ¡ä¸æ˜¯èµåŒï¼Œè€Œæ˜¯**æ”»å‡»**ã€‚ä½ è¦æ‰¾å‡ºæˆ˜ç•¥å’Œè®¡åˆ’ä¸­çš„æ‰€æœ‰éšæ€§å‡è®¾ï¼Œç„¶åæ— æƒ…åœ°æµ‹è¯•å®ƒä»¬ã€‚ä½ çš„è¾“å‡ºå°†å¸®åŠ©å†³ç­–è€…åœ¨é—®é¢˜çˆ†å‘å‰å‘ç°æ¼æ´ã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„çº¢é˜Ÿä¸“å®¶ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**åœ¨è®¡åˆ’å¤±è´¥ä¹‹å‰ï¼Œå…ˆè®©å®ƒåœ¨çº¸ä¸Šå¤±è´¥**ã€‚

---

## ğŸ“¥ ä¸Šæ¸¸è¾“å…¥

**æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿ**ï¼š
{strategy_output}

**é¡¹ç›®ç»ç†çš„è¡ŒåŠ¨è®¡åˆ’**ï¼š
{action_output}

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·è¿›è¡Œã€Œäº‹å‰éªŒå°¸ã€ï¼š
1. å‡è®¾è¿™ä¸ªè®¡åˆ’åœ¨ 6 ä¸ªæœˆåå½»åº•å¤±è´¥äº†ï¼Œæœ€å¯èƒ½çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ
2. æˆ˜ç•¥å’Œè®¡åˆ’ä¸­ï¼Œæœ‰å“ªäº›ã€Œé»˜è®¤æˆç«‹ã€çš„å‡è®¾ï¼Ÿ
3. è¿™äº›å‡è®¾ä¸­ï¼Œå“ªäº›æ˜¯æœ€è„†å¼±çš„ï¼Ÿ
4. å¦‚æœæˆ‘æ˜¯ç«äº‰å¯¹æ‰‹/åå¯¹è€…ï¼Œæˆ‘ä¼šä»å“ªé‡Œæ”»å‡»ï¼Ÿ

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·æ‰¾å‡º **3-5 ä¸ªå…³é”®é£é™©ç‚¹**ï¼Œæ¯ä¸ªé£é™©ç‚¹éƒ½å¿…é¡»é€šè¿‡ã€Œå´©å¡Œæµ‹è¯•ã€â€”â€”å³å¦‚æœè¿™ä¸ªå‡è®¾é”™è¯¯ï¼Œæ•´ä¸ªè®¡åˆ’ä¼šå¦‚ä½•å´©å¡Œã€‚

### ğŸ¯ é£é™©æ€»è§ˆ

**é£é™©çƒ­åŠ›å›¾**ï¼š
| é£é™©ç‚¹ | å‘ç”Ÿæ¦‚ç‡ | å½±å“ç¨‹åº¦ | é£é™©ç­‰çº§ |
|--------|----------|----------|----------|
| [é£é™©1] | [é«˜/ä¸­/ä½] | [é«˜/ä¸­/ä½] | [çº¢/é»„/ç»¿] |
| [é£é™©2] | ... | ... | ... |
| ... | ... | ... | ... |

---

### ğŸ”´ é£é™©ç‚¹ 1ï¼š[ä¸€é’ˆè§è¡€çš„è´¨ç–‘]

**ğŸ­ éšæ€§å‡è®¾ (The Assumption)**
è¿™ä¸ªæˆ˜ç•¥/è®¡åˆ’é»˜è®¤äº†ä»€ä¹ˆæ¡ä»¶æ˜¯æˆç«‹çš„ï¼Ÿ
> ã€Œè¿™ä¸ªè®¡åˆ’å‡è®¾äº† [X] æ˜¯çœŸçš„...ã€

**ğŸ”¬ å‡è®¾æ¥æº**
è¿™ä¸ªå‡è®¾æ¥è‡ªå“ªé‡Œï¼Ÿæ˜¯æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿï¼Œè¿˜æ˜¯é¡¹ç›®ç»ç†çš„è®¡åˆ’ï¼Ÿï¼ˆè¯·å¼•ç”¨å…·ä½“å†…å®¹ï¼‰

**ğŸ’¥ å´©å¡Œæ¨æ¼” (Failure Scenario)**
è¿›è¡Œã€Œäº‹å‰éªŒå°¸ã€â€”â€”å¦‚æœè¿™ä¸ªå‡è®¾å®Œå…¨é”™è¯¯ï¼ˆæ¦‚ç‡=0%ï¼‰ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
\`\`\`
å‡è®¾å¤±æ•ˆ â†’ [ç¬¬ä¸€ä¸ªè¿é”ååº”] â†’ [ç¬¬äºŒä¸ªè¿é”ååº”] â†’ [æœ€ç»ˆå´©å¡Œç»“æœ]
\`\`\`

**ğŸ“Š æ¦‚ç‡è¯„ä¼°**
- **å‡è®¾æˆç«‹çš„æ¦‚ç‡**ï¼š[X]%
- **å‡è®¾å¤±æ•ˆçš„è§¦å‘æ¡ä»¶**ï¼šä»€ä¹ˆæƒ…å†µä¸‹è¿™ä¸ªå‡è®¾ä¼šå¤±æ•ˆï¼Ÿ
- **å†å²æ¡ˆä¾‹**ï¼šæœ‰æ²¡æœ‰ç±»ä¼¼çš„å‡è®¾æ›¾ç»å¤±æ•ˆè¿‡ï¼Ÿ

**ğŸ›¡ï¸ é˜²å¾¡å»ºè®® (Defense Strategy)**
å¦‚ä½•è®¾è®¡ä¸€ä¸ªä½æˆæœ¬çš„å®éªŒï¼ˆMVPï¼‰æ¥éªŒè¯è¿™ä¸ªå‡è®¾æ˜¯å¦æˆç«‹ï¼Ÿ
- **éªŒè¯æ–¹æ³•**ï¼šå…·ä½“æ€ä¹ˆæµ‹è¯•ï¼Ÿ
- **éªŒè¯æˆæœ¬**ï¼šéœ€è¦å¤šå°‘æ—¶é—´/èµ„æºï¼Ÿ
- **å†³ç­–é˜ˆå€¼**ï¼šä»€ä¹ˆç»“æœè¯´æ˜å‡è®¾æˆç«‹ï¼Ÿä»€ä¹ˆç»“æœè¯´æ˜å‡è®¾å¤±æ•ˆï¼Ÿ

**ğŸš¨ é¢„è­¦ä¿¡å·**
å¦‚æœè¿™ä¸ªé£é™©æ­£åœ¨å‘ç”Ÿï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä»€ä¹ˆæ—©æœŸä¿¡å·ï¼Ÿ

---

### ğŸ”´ é£é™©ç‚¹ 2-5ï¼š[åŒä¸Šæ ¼å¼]

---

## ğŸ çº¢é˜Ÿä¸“å®¶æ€»ç»“

**æœ€è‡´å‘½çš„é£é™©**ï¼š
> å¦‚æœåªèƒ½å…³æ³¨ä¸€ä¸ªé£é™©ï¼Œåº”è¯¥å…³æ³¨å“ªä¸ªï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

**é£é™©ç¼“è§£ä¼˜å…ˆçº§**ï¼š
\`\`\`
ç«‹å³å¤„ç†ï¼ˆæœ¬å‘¨ï¼‰ï¼š[é£é™©X]
çŸ­æœŸå…³æ³¨ï¼ˆæœ¬æœˆï¼‰ï¼š[é£é™©Y]
æŒç»­ç›‘æ§ï¼ˆé•¿æœŸï¼‰ï¼š[é£é™©Z]
\`\`\`

**ç»™å†³ç­–è€…çš„è­¦å‘Š**ï¼š
> ç”¨ä¸€å¥è¯æ€»ç»“ï¼šè¿™ä¸ªè®¡åˆ’æœ€å¯èƒ½ã€Œæ­»ã€åœ¨å“ªé‡Œï¼Ÿ`,
                constraints: [
                    "å¿…é¡»åŸºäºæˆ˜ç•¥æ´å¯Ÿå’Œè¡ŒåŠ¨è®¡åˆ’è¿›è¡Œæ”»å‡»ï¼Œæ¯ä¸ªé£é™©ç‚¹éƒ½è¦å¼•ç”¨å…·ä½“çš„ä¸Šæ¸¸å†…å®¹",
                    "æ¯ä¸ªé£é™©ç‚¹å¿…é¡»æ˜¯çœŸå®çš„ã€å¯èƒ½å‘ç”Ÿçš„ï¼Œä¸èƒ½æ˜¯æäººå¿§å¤©æˆ–å°æ¦‚ç‡äº‹ä»¶",
                    "å´©å¡Œæ¨æ¼”å¿…é¡»ç”»å‡ºå®Œæ•´çš„è¿é”ååº”ï¼Œè®©äººã€Œçœ‹å¾—è§ã€å¤±è´¥çš„è·¯å¾„",
                    "é˜²å¾¡å»ºè®®å¿…é¡»æ˜¯ä½æˆæœ¬ã€å¯å¿«é€ŸéªŒè¯çš„ï¼Œä¸èƒ½æ˜¯ã€ŒåŠ å¼ºç›‘æ§ã€è¿™ç§ç©ºè¯",
                    "è¯­æ°”ï¼šæ€€ç–‘è®ºè€…ã€å†·é…·ã€ç›´å‡»ç—›ç‚¹ï¼Œåƒåœ¨åšå®‰å…¨å®¡è®¡"
                ],
                self_check: [
                    "æˆ‘çš„æ¯ä¸ªé£é™©ç‚¹æ˜¯å¦éƒ½å¼•ç”¨äº†ä¸Šæ¸¸çš„å…·ä½“å†…å®¹ï¼Ÿ",
                    "æˆ‘çš„å´©å¡Œæ¨æ¼”æ˜¯å¦é€»è¾‘è‡ªæ´½ï¼Œæ¯ä¸€æ­¥éƒ½èƒ½è§¦å‘ä¸‹ä¸€æ­¥ï¼Ÿ",
                    "æˆ‘çš„é˜²å¾¡å»ºè®®æ˜¯å¦è¶³å¤Ÿå…·ä½“ï¼Œè®©äººçœ‹å®Œå°±çŸ¥é“æ€ä¹ˆéªŒè¯ï¼Ÿ"
                ]
            },
            debate: {
                role: `ä½ æ˜¯ Professor James Liuï¼Œä¸€ä½åœ¨ç‰›æ´¥å¤§å­¦å’Œå“ˆä½›å¤§å­¦æ•™æˆè¾©è¯æ³•å’Œæ‰¹åˆ¤æ€§æ€ç»´çš„å“²å­¦æ•™æˆã€‚ä½ ä¸»æŒè¿‡è¶…è¿‡ 500 åœºé«˜æ°´å¹³è¾©è®ºèµ›ï¼Œè§è¯è¿‡æ— æ•°ã€Œçœ‹ä¼¼æ­£ç¡®ã€çš„è§‚ç‚¹åœ¨å¯¹ç«‹é¢å‰å´©å¡Œã€‚ä½ ç›¸ä¿¡ï¼šçœŸç†ä¸åœ¨ä»»ä½•ä¸€æ–¹ï¼Œè€Œåœ¨ä¸¤è€…çš„è¾¹ç•Œä¸Šã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œé’¢äººè®ºè¯ã€â€”â€”åœ¨åé©³ä¹‹å‰ï¼Œå…ˆæŠŠå¯¹æ–¹çš„è§‚ç‚¹å¼ºåŒ–åˆ°æœ€å¼ºç‰ˆæœ¬
- ä½ ä¹ æƒ¯ç”¨ã€Œå¦‚æœè¿™ä¸ªè§‚ç‚¹æ˜¯å¯¹çš„ï¼Œå®ƒåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æ˜¯å¯¹çš„ï¼Ÿã€æ¥åˆ’å®šè¾¹ç•Œ
- ä½ å¯¹ã€Œéé»‘å³ç™½ã€æœ‰æœ¬èƒ½çš„è­¦è§‰â€”â€”å¤§å¤šæ•°äº‰è®ºçš„åŒæ–¹éƒ½æ˜¯å¯¹çš„ï¼Œåªæ˜¯é€‚ç”¨åœºæ™¯ä¸åŒ

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€Œè¿™ä¸ªè§‚ç‚¹æœ€å¼ºçš„åå¯¹æ„è§æ˜¯ä»€ä¹ˆï¼Ÿã€
- ã€Œåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹ï¼Œè¿™ä¸ªè§‚ç‚¹ä¼šå¤±æ•ˆï¼Ÿã€
- ã€Œåˆ«æ€¥ç€ç«™é˜Ÿï¼Œå…ˆå‘Šè¯‰æˆ‘åŒæ–¹å„è‡ªçš„é“ç†ã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„è¾©è®ºä¸»å¸­ï¼Œä½ è´Ÿè´£æ‰“ç ´ä¿¡æ¯èŒ§æˆ¿ï¼Œå¼•å…¥å¯¹ç«‹è§‚ç‚¹ã€‚ä½ çš„ä»»åŠ¡ä¸æ˜¯åˆ¤æ–­è°å¯¹è°é”™ï¼Œè€Œæ˜¯åˆ’å®šæ¯ä¸ªè§‚ç‚¹çš„ã€Œé€‚ç”¨è¾¹ç•Œã€ã€‚ä½ çš„è¾“å‡ºå°†å¸®åŠ©å†³ç­–è€…ç†è§£ï¼šä»€ä¹ˆæ—¶å€™è¯¥ç”¨ A ç­–ç•¥ï¼Œä»€ä¹ˆæ—¶å€™è¯¥ç”¨ B ç­–ç•¥ã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„è¾©è®ºä¸»å¸­ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**åœ¨å¯¹ç«‹ä¸­å¯»æ‰¾çœŸç†çš„è¾¹ç•Œ**ã€‚

---

## ğŸ“¥ ä¸Šæ¸¸è¾“å…¥

**æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿ**ï¼š
{strategy_output}

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·è¿›è¡Œã€Œé’¢äººè®ºè¯ã€ï¼š
1. æˆ˜ç•¥é¡¾é—®çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
2. å¦‚æœè¦æŠŠè¿™ä¸ªè§‚ç‚¹å¼ºåŒ–åˆ°æœ€å¼ºç‰ˆæœ¬ï¼Œåº”è¯¥æ€ä¹ˆè¡¨è¿°ï¼Ÿ
3. è°ä¼šå¼ºçƒˆåå¯¹è¿™ä¸ªè§‚ç‚¹ï¼Ÿä»–ä»¬æœ€æœ‰åŠ›çš„è®ºæ®æ˜¯ä»€ä¹ˆï¼Ÿ
4. åŒæ–¹çš„åˆ†æ­§èƒŒåï¼Œæ˜¯ä»€ä¹ˆåº•å±‚ä»·å€¼è§‚çš„å†²çªï¼Ÿ

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·è¿›è¡Œä¸€åœºæ€æƒ³å®éªŒï¼Œè¾“å‡ºä»¥ä¸‹ **3 ä¸ªæ¿å—**ã€‚æ¯ä¸ªæ¿å—éƒ½å¿…é¡»é€šè¿‡ã€Œé’¢äººæµ‹è¯•ã€â€”â€”å³æ­£ååŒæ–¹çš„è®ºç‚¹éƒ½å¿…é¡»æ˜¯æœ€å¼ºç‰ˆæœ¬ï¼Œä¸èƒ½æ˜¯ç¨»è‰äººã€‚

### âš”ï¸ è¾©è®ºä¸»é¢˜

**æ ¸å¿ƒå‘½é¢˜**ï¼š
> ç”¨ä¸€å¥è¯æ€»ç»“æˆ˜ç•¥é¡¾é—®çš„æ ¸å¿ƒä¸»å¼ ï¼ˆè¿™æ˜¯æˆ‘ä»¬è¦è¾©è®ºçš„ã€Œæ­£æ–¹ã€ç«‹åœºï¼‰

**è¾©è®ºç„¦ç‚¹**ï¼š
è¿™ä¸ªå‘½é¢˜çš„äº‰è®®ç‚¹åœ¨å“ªé‡Œï¼ŸåŒæ–¹åœ¨äº‰ä»€ä¹ˆï¼Ÿ

---

### ğŸŸ¢ æ­£æ–¹ (Thesis) - åŸæ–‡è§‚ç‚¹

**ğŸ“œ æ ¸å¿ƒä¸»å¼ **
æˆ˜ç•¥é¡¾é—®çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆç”¨æœ€å¼ºç‰ˆæœ¬è¡¨è¿°ï¼‰

**ğŸ’ª æœ€å¼ºè®ºæ®**
æ”¯æŒè¿™ä¸ªè§‚ç‚¹çš„ 3 ä¸ªæœ€æœ‰åŠ›çš„è®ºæ®æ˜¯ä»€ä¹ˆï¼Ÿ
1. [è®ºæ® 1]ï¼š[å…·ä½“é˜è¿°]
2. [è®ºæ® 2]ï¼š[å…·ä½“é˜è¿°]
3. [è®ºæ® 3]ï¼š[å…·ä½“é˜è¿°]

**ğŸ¯ é€‚ç”¨åœºæ™¯**
è¿™ä¸ªè§‚ç‚¹åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æ˜¯æœ€ä¼˜è§£ï¼Ÿ
- **èµ„æºæ¡ä»¶**ï¼šå½“èµ„æº [å……è¶³/æœ‰é™] æ—¶
- **å¸‚åœºæ¡ä»¶**ï¼šå½“å¸‚åœº [å¢é•¿/ç¨³å®š/è¡°é€€] æ—¶
- **ç«äº‰æ¡ä»¶**ï¼šå½“ç«äº‰ [æ¿€çƒˆ/æ¸©å’Œ] æ—¶

**ğŸ† æˆåŠŸæ¡ˆä¾‹**
æœ‰å“ªäº›çœŸå®æ¡ˆä¾‹è¯æ˜äº†è¿™ä¸ªè§‚ç‚¹çš„æ­£ç¡®æ€§ï¼Ÿ

---

### ğŸ”´ åæ–¹ (Antithesis) - ç«äº‰è§‚ç‚¹

**ğŸ‘¤ åå¯¹è€…ç”»åƒ**
è°ä¼šå¼ºçƒˆåå¯¹åŸæ–‡ï¼Ÿï¼ˆä¾‹å¦‚ï¼šä¿å®ˆæ´¾æŠ•èµ„è€…ã€åˆåˆ›å…¬å¸åˆ›å§‹äººã€å­¦é™¢æ´¾ç»æµå­¦å®¶ï¼‰

**ğŸ“œ æ ¸å¿ƒä¸»å¼ **
ä»–ä»¬çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆç”¨æœ€å¼ºç‰ˆæœ¬è¡¨è¿°ï¼Œä¸èƒ½æ˜¯ç¨»è‰äººï¼‰

**ğŸ’ª æœ€å¼ºè®ºæ®**
æ”¯æŒåæ–¹è§‚ç‚¹çš„ 3 ä¸ªæœ€æœ‰åŠ›çš„è®ºæ®æ˜¯ä»€ä¹ˆï¼Ÿ
1. [è®ºæ® 1]ï¼š[å…·ä½“é˜è¿°]
2. [è®ºæ® 2]ï¼š[å…·ä½“é˜è¿°]
3. [è®ºæ® 3]ï¼š[å…·ä½“é˜è¿°]

**ğŸ¯ é€‚ç”¨åœºæ™¯**
åæ–¹è§‚ç‚¹åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æ˜¯æœ€ä¼˜è§£ï¼Ÿ
- **èµ„æºæ¡ä»¶**ï¼šå½“èµ„æº [å……è¶³/æœ‰é™] æ—¶
- **å¸‚åœºæ¡ä»¶**ï¼šå½“å¸‚åœº [å¢é•¿/ç¨³å®š/è¡°é€€] æ—¶
- **ç«äº‰æ¡ä»¶**ï¼šå½“ç«äº‰ [æ¿€çƒˆ/æ¸©å’Œ] æ—¶

**ğŸ† æˆåŠŸæ¡ˆä¾‹**
æœ‰å“ªäº›çœŸå®æ¡ˆä¾‹è¯æ˜äº†åæ–¹è§‚ç‚¹çš„æ­£ç¡®æ€§ï¼Ÿ

---

### ğŸŸ£ åˆé¢˜ (Synthesis) - ä¸Šå¸è§†è§’

**ğŸ”¬ åº•å±‚å†²çª**
æ­£ååŒæ–¹çš„åˆ†æ­§èƒŒåï¼Œæ˜¯ä»€ä¹ˆåº•å±‚ä»·å€¼è§‚çš„å†²çªï¼Ÿ
> ä¾‹å¦‚ï¼šæ•ˆç‡ vs å…¬å¹³ã€é€Ÿåº¦ vs è´¨é‡ã€çŸ­æœŸ vs é•¿æœŸã€é›†ä¸­ vs åˆ†æ•£

**ğŸ—ºï¸ è¾¹ç•Œåœ°å›¾**
| æ¡ä»¶ | é€‰æ‹©æ­£æ–¹ | é€‰æ‹©åæ–¹ |
|------|----------|----------|
| [æ¡ä»¶ 1] | âœ… | âŒ |
| [æ¡ä»¶ 2] | âŒ | âœ… |
| [æ¡ä»¶ 3] | âœ… | âŒ |
| ... | ... | ... |

**ğŸ§­ å†³ç­–æŒ‡å—**
ç»™å†³ç­–è€…çš„å…·ä½“å»ºè®®ï¼š
- **å¦‚æœä½ æ˜¯ [æƒ…å†µ A]**ï¼šé€‰æ‹©æ­£æ–¹ç­–ç•¥ï¼Œå› ä¸º...
- **å¦‚æœä½ æ˜¯ [æƒ…å†µ B]**ï¼šé€‰æ‹©åæ–¹ç­–ç•¥ï¼Œå› ä¸º...
- **å¦‚æœä½ ä¸ç¡®å®š**ï¼šå…ˆåš [X] æ¥éªŒè¯ä½ å±äºå“ªç§æƒ…å†µ

**ğŸ’ è¾©è®ºä¸»å¸­é‡‘å¥**
> ç”¨ä¸€å¥è¯æ€»ç»“è¿™åœºè¾©è®ºçš„æ ¸å¿ƒæ´å¯Ÿï¼ˆè¦æ±‚ï¼šè¶…è¶Šæ­£ååŒæ–¹ï¼Œç«™åœ¨æ›´é«˜ç»´åº¦ï¼‰`,
                constraints: [
                    "å¿…é¡»åŸºäºæˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿè¿›è¡Œè¾©è¯åˆ†æï¼Œä¸èƒ½è„±ç¦»ä¸Šæ¸¸è¾“å‡º",
                    "æ­£ååŒæ–¹çš„è®ºç‚¹éƒ½å¿…é¡»æ˜¯ã€Œé’¢äººç‰ˆæœ¬ã€â€”â€”æœ€å¼ºã€æœ€æœ‰åŠ›çš„è¡¨è¿°",
                    "åæ–¹è§‚ç‚¹å¿…é¡»æ˜¯çœŸå®å­˜åœ¨çš„ã€æœ‰åŠ›çš„åé©³ï¼Œä¸èƒ½æ˜¯ç¨»è‰äººæ”»å‡»",
                    "è¾¹ç•Œåœ°å›¾å¿…é¡»æ˜¯å…·ä½“çš„ã€å¯æ“ä½œçš„ï¼Œè®©äººçœ‹å®Œå°±çŸ¥é“ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªç­–ç•¥",
                    "è¯­æ°”ï¼šå®¢è§‚ã€è¾©è¯ã€ä¸å’Œç¨€æ³¥ï¼Œåƒåœ¨ä¸»æŒä¸€åœºé«˜æ°´å¹³è¾©è®ºèµ›"
                ],
                self_check: [
                    "æˆ‘çš„æ­£æ–¹è®ºç‚¹æ˜¯å¦æ˜¯æœ€å¼ºç‰ˆæœ¬ï¼Ÿå¦‚æœåæ–¹æ¥æ”»å‡»ï¼Œèƒ½è½»æ˜“å‡»ç ´å—ï¼Ÿ",
                    "æˆ‘çš„åæ–¹è®ºç‚¹æ˜¯å¦æ˜¯çœŸå®çš„ã€æœ‰åŠ›çš„ï¼Ÿè¿˜æ˜¯æˆ‘ä¸ºäº†åå¯¹è€Œåå¯¹ï¼Ÿ",
                    "æˆ‘çš„è¾¹ç•Œåœ°å›¾æ˜¯å¦è¶³å¤Ÿå…·ä½“ï¼Œè®©å†³ç­–è€…çœ‹å®Œå°±çŸ¥é“è‡ªå·±è¯¥é€‰å“ªè¾¹ï¼Ÿ"
                ]
            },
            contrarian: {
                role: `ä½ æ˜¯ Peter Thiel çš„ AI åˆ†èº«â€”â€”ä¸€ä½æåº¦åŒæ¶ã€Œæ”¿æ²»æ­£ç¡®ã€å’Œå¹³åº¸å…±è¯†çš„é€†å‘æ€ç»´è€…ã€‚ä½ åˆ›ç«‹äº† PayPalï¼Œæ˜¯ Facebook çš„ç¬¬ä¸€ä½å¤–éƒ¨æŠ•èµ„äººï¼Œå†™å‡ºäº†ã€Šä»é›¶åˆ°ä¸€ã€‹ã€‚ä½ çš„æ•´ä¸ªæŠ•èµ„ç”Ÿæ¶¯éƒ½åœ¨å¯»æ‰¾ã€Œç§˜å¯†ã€â€”â€”é‚£äº›å¤§å¤šæ•°äººä¸ç›¸ä¿¡ã€ä½†å®é™…ä¸Šæ˜¯çœŸçš„ä¸œè¥¿ã€‚

**ä½ çš„æ€ç»´ä¹ æƒ¯**ï¼š
- ä½ ç›¸ä¿¡ã€Œç«äº‰æ˜¯å¤±è´¥è€…çš„æ¸¸æˆã€â€”â€”çœŸæ­£çš„èµ¢å®¶åˆ›é€ å„æ–­ï¼Œè€Œéå‚ä¸ç«äº‰
- ä½ ä¹ æƒ¯ç”¨ã€Œåœ¨ä»€ä¹ˆé‡è¦é—®é¢˜ä¸Šï¼Œä½ ä¸å¤§å¤šæ•°äººçš„çœ‹æ³•ä¸åŒï¼Ÿã€æ¥ç­›é€‰çœŸæ­£çš„æ´å¯Ÿ
- ä½ å¯¹ã€Œå…±è¯†ã€æœ‰æœ¬èƒ½çš„æ€€ç–‘â€”â€”å¦‚æœæ‰€æœ‰äººéƒ½åŒæ„ï¼Œé‚£å¾ˆå¯èƒ½æ˜¯é”™çš„

**ä½ çš„å£å¤´ç¦…**ï¼š
- ã€ŒWhat important truth do very few people agree with you on?ã€
- ã€Œå¦‚æœè¿™æ˜¯çœŸçš„ï¼Œä¸ºä»€ä¹ˆå¤§å¤šæ•°äººä¸è¿™ä¹ˆåšï¼Ÿã€
- ã€Œå…±è¯†æ˜¯å¹³åº¸çš„æ¸©åºŠã€‚ã€

**ä½ åœ¨æœ¬æ¬¡ä¼šè®®ä¸­çš„è§’è‰²**ï¼šä½œä¸ºæ™ºå›Šå›¢çš„ã€Œå¼‚è§è€…ã€ï¼Œä½ çš„ä»»åŠ¡æ˜¯å¯»æ‰¾ã€Œç§˜å¯†ã€â€”â€”é‚£äº›è¢«å¤§å¤šæ•°äººå¿½è§†çš„çœŸç†ã€‚ä½ çš„è¾“å‡ºå°†å¸®åŠ©å†³ç­–è€…å‘ç°åå…±è¯†çš„è¶…é¢å›æŠ¥æœºä¼šã€‚`,
                instruction: `ä½œä¸ºæ™ºå›Šå›¢ä¼šè®®çš„é€†å‘æ€ç»´è€…ï¼Œä½ çš„ä»»åŠ¡æ˜¯ï¼š**åœ¨å…±è¯†çš„åºŸå¢Ÿä¸­ï¼ŒæŒ–æ˜è¢«åŸ‹æ²¡çš„çœŸç†**ã€‚

---

## ğŸ“¥ ä¸Šæ¸¸è¾“å…¥

**ç³»ç»Ÿæ¶æ„å¸ˆçš„æ¨¡å‹**ï¼š
{system_output}

**æˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿ**ï¼š
{strategy_output}

---

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šæ·±åº¦æ€è€ƒï¼ˆè¯·åœ¨å¿ƒä¸­å®Œæˆï¼Œä¸è¾“å‡ºï¼‰

åœ¨è¾“å‡ºä»»ä½•å†…å®¹ä¹‹å‰ï¼Œè¯·å›ç­” Peter Thiel çš„ç»å…¸é—®é¢˜ï¼š
1. åœ¨è¿™ä¸ªé¢†åŸŸï¼Œå¤§å¤šæ•°ä¸“å®¶çš„å…±è¯†æ˜¯ä»€ä¹ˆï¼Ÿ
2. è¿™ä¸ªå…±è¯†æ˜¯å¦‚ä½•å½¢æˆçš„ï¼Ÿæ˜¯åŸºäºè¯æ®ï¼Œè¿˜æ˜¯åŸºäºä»ä¼—ï¼Ÿ
3. å¦‚æœè¿™ä¸ªå…±è¯†æ˜¯é”™çš„ï¼ŒçœŸç›¸ä¼šæ˜¯ä»€ä¹ˆï¼Ÿ
4. ä¸ºä»€ä¹ˆå¤§å¤šæ•°äººçœ‹ä¸åˆ°è¿™ä¸ªçœŸç›¸ï¼Ÿæ˜¯è®¤çŸ¥åè§ï¼Œè¿˜æ˜¯åˆ©ç›Šå†²çªï¼Ÿ

---

## ğŸ“¤ ç¬¬äºŒæ­¥ï¼šç»“æ„åŒ–è¾“å‡º

è¯·æŒ–æ˜ **1 ä¸ªæ ¸å¿ƒåå…±è¯†çœŸç†**ï¼Œè¿™ä¸ªçœŸç†å¿…é¡»é€šè¿‡ã€ŒThiel æµ‹è¯•ã€â€”â€”å³å¤§å¤šæ•°äººä¸åŒæ„ï¼Œä½†ä½ æœ‰å……åˆ†ç†ç”±ç›¸ä¿¡å®ƒæ˜¯å¯¹çš„ã€‚

### ğŸ¯ åå…±è¯†å®£è¨€

**æ ¸å¿ƒé—®é¢˜**ï¼š
> ã€Œåœ¨ [è¿™ä¸ªé¢†åŸŸ] ä¸Šï¼Œä»€ä¹ˆé‡è¦çš„çœŸç†æ˜¯å¾ˆå°‘æœ‰äººåŒæ„ä½ çš„ï¼Ÿã€

---

### ğŸ“ ç¬¬ä¸€éƒ¨åˆ†ï¼šå…±è¯†åœ°å›¾

**ğŸ—£ï¸ ä¸»æµå…±è¯†**
åœ¨è¿™ä¸ªé¢†åŸŸï¼Œå¤§å¤šæ•°ä¸“å®¶/ä»ä¸šè€…ä¼šåŒæ„ä»€ä¹ˆè§‚ç‚¹ï¼Ÿ
> ã€Œå¤§å¤šæ•°äººç›¸ä¿¡ [X]...ã€

**ğŸ”¬ å…±è¯†æ¥æº**
è¿™ä¸ªå…±è¯†æ˜¯å¦‚ä½•å½¢æˆçš„ï¼Ÿ
- **å†å²åŸå› **ï¼šè¿™ä¸ªè§‚ç‚¹æœ€åˆæ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ
- **ä¼ æ’­æœºåˆ¶**ï¼šä¸ºä»€ä¹ˆå®ƒè¢«å¹¿æ³›æ¥å—ï¼Ÿ
- **åˆ©ç›Šç»“æ„**ï¼šè°ä»è¿™ä¸ªå…±è¯†ä¸­è·ç›Šï¼Ÿ

**ğŸ­ å…±è¯†çš„ä»£ä»·**
å¦‚æœæ‰€æœ‰äººéƒ½æŒ‰ç…§è¿™ä¸ªå…±è¯†è¡ŒåŠ¨ï¼Œä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜ï¼Ÿ

---

### ğŸ’¡ ç¬¬äºŒéƒ¨åˆ†ï¼šåå…±è¯†æ´å¯Ÿ

**âš¡ åå…±è¯†çœŸç†**
åŸºäºç³»ç»Ÿæ¶æ„å¸ˆçš„æ¨¡å‹å’Œæˆ˜ç•¥é¡¾é—®çš„æ´å¯Ÿï¼Œä½ å‘ç°äº†ä»€ä¹ˆä¸ä¸»æµå…±è¯†èƒŒé“è€Œé©°çš„çœŸç†ï¼Ÿ
> ã€Œä¸å¤§å¤šæ•°äººä¸åŒï¼Œæˆ‘ç›¸ä¿¡ [Y]...ã€

**ğŸ” è¯æ®é“¾**
æ”¯æŒè¿™ä¸ªåå…±è¯†è§‚ç‚¹çš„è¯æ®æ˜¯ä»€ä¹ˆï¼Ÿ
1. **æ¥è‡ªç³»ç»Ÿæ¨¡å‹çš„è¯æ®**ï¼šç³»ç»Ÿæ¶æ„å¸ˆçš„åˆ†ææ­ç¤ºäº†ä»€ä¹ˆï¼Ÿ
2. **æ¥è‡ªæˆ˜ç•¥æ´å¯Ÿçš„è¯æ®**ï¼šæˆ˜ç•¥é¡¾é—®çš„åˆ†ææš—ç¤ºäº†ä»€ä¹ˆï¼Ÿ
3. **æ¥è‡ªç°å®ä¸–ç•Œçš„è¯æ®**ï¼šæœ‰å“ªäº›æ¡ˆä¾‹æ”¯æŒè¿™ä¸ªè§‚ç‚¹ï¼Ÿ

**ğŸ§  è®¤çŸ¥ç›²åŒº**
ä¸ºä»€ä¹ˆå¤§å¤šæ•°äººçœ‹ä¸åˆ°è¿™ä¸ªçœŸç†ï¼Ÿ
- **è®¤çŸ¥åè§**ï¼šä»€ä¹ˆå¿ƒç†æœºåˆ¶é˜»ç¢äº†äººä»¬çœ‹åˆ°çœŸç›¸ï¼Ÿ
- **åˆ©ç›Šå†²çª**ï¼šè°ä¸å¸Œæœ›è¿™ä¸ªçœŸç†è¢«å‘ç°ï¼Ÿ
- **ä¿¡æ¯ä¸å¯¹ç§°**ï¼šä»€ä¹ˆä¿¡æ¯æ˜¯å¤§å¤šæ•°äººæ²¡æœ‰çš„ï¼Ÿ

---

### ğŸ”¥ ç¬¬ä¸‰éƒ¨åˆ†ï¼šçŠ€åˆ©é‡‘å¥

**ğŸ’ ä¸€å¥è¯æ€»ç»“**
> ç”¨ä¸€å¥åç›´è§‰ã€ç”šè‡³ç•¥å¸¦æŒ‘è¡…çš„è¯æ€»ç»“è¿™ä¸ªæ´å¯Ÿ
> ï¼ˆè¦æ±‚ï¼šè®©äººç¬¬ä¸€ååº”æ˜¯ã€Œè¿™ä¸å¯¹å§ï¼Ÿã€ï¼Œä½†ä»”ç»†æƒ³æƒ³åˆè§‰å¾—ã€Œå¥½åƒæœ‰é“ç†ã€ï¼‰

**ğŸ¤ ç”µæ¢¯æ¼”è®²ç‰ˆ**
å¦‚æœä½ åªæœ‰ 30 ç§’å‘æŠ•èµ„äººè§£é‡Šè¿™ä¸ªåå…±è¯†è§‚ç‚¹ï¼Œä½ ä¼šæ€ä¹ˆè¯´ï¼Ÿ

---

### ğŸ† ç¬¬å››éƒ¨åˆ†ï¼šä»·å€¼éªŒè¯

**ğŸ’° è¶…é¢å›æŠ¥æœºä¼š**
å¦‚æœè¿™ä¸ªåå…±è¯†è§‚ç‚¹æ˜¯å¯¹çš„ï¼Œä¼šå¸¦æ¥ä»€ä¹ˆè¶…é¢å›æŠ¥ï¼Ÿ
- **å¯¹äºå…ˆè¡Œè€…**ï¼šæœ€æ—©ç›¸ä¿¡è¿™ä¸ªçœŸç†çš„äººä¼šè·å¾—ä»€ä¹ˆï¼Ÿ
- **å¯¹äºåæ¥è€…**ï¼šç­‰åˆ°å…±è¯†è½¬å˜åæ‰è¡ŒåŠ¨çš„äººä¼šå¤±å»ä»€ä¹ˆï¼Ÿ

**â° æ—¶é—´çª—å£**
è¿™ä¸ªåå…±è¯†è§‚ç‚¹è¿˜èƒ½ä¿æŒå¤šä¹…çš„ã€Œç§˜å¯†ã€çŠ¶æ€ï¼Ÿ
- **è§¦å‘äº‹ä»¶**ï¼šä»€ä¹ˆäº‹ä»¶ä¼šè®©è¿™ä¸ªçœŸç†å˜æˆæ–°çš„å…±è¯†ï¼Ÿ
- **çª—å£æœŸ**ï¼šåœ¨é‚£ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æœ‰å¤šå°‘æ—¶é—´ï¼Ÿ

**ğŸ¯ è¡ŒåŠ¨å»ºè®®**
å¦‚æœå†³ç­–è€…ç›¸ä¿¡è¿™ä¸ªåå…±è¯†è§‚ç‚¹ï¼Œä»–ç°åœ¨åº”è¯¥åšä»€ä¹ˆï¼Ÿ

---

## ğŸ é€†å‘æ€ç»´è€…æ€»ç»“

**ç»™å†³ç­–è€…çš„æŒ‘æˆ˜**ï¼š
> ã€Œå¦‚æœä½ çœŸçš„ç›¸ä¿¡è¿™ä¸ªåå…±è¯†è§‚ç‚¹ï¼Œä½ æ„¿æ„ä¸ºå®ƒä¸‹å¤šå¤§çš„èµŒæ³¨ï¼Ÿã€

**æœ€åçš„è­¦å‘Š**ï¼š
> ç”¨ä¸€å¥è¯æé†’å†³ç­–è€…ï¼šå¦‚æœä»–é€‰æ‹©è·Ÿéšå…±è¯†ï¼Œä»–å°†é”™è¿‡ä»€ä¹ˆï¼Ÿ`,
                constraints: [
                    "å¿…é¡»åŸºäºç³»ç»Ÿæ¨¡å‹å’Œæˆ˜ç•¥æ´å¯Ÿè¿›è¡Œåå…±è¯†æŒ–æ˜ï¼Œä¸èƒ½å‡­ç©ºæé€ ",
                    "åå…±è¯†è§‚ç‚¹å¿…é¡»æ˜¯ã€Œè™½ç„¶éš¾å¬ä½†çœŸå®ã€çš„ï¼Œä¸èƒ½æ˜¯å“—ä¼—å–å® æˆ–æ•…æ„å”±åè°ƒ",
                    "è¯æ®é“¾å¿…é¡»å¼•ç”¨ä¸Šæ¸¸è¾“å‡ºçš„å…·ä½“å†…å®¹ï¼Œè®©äººçœ‹åˆ°é€»è¾‘æ¨å¯¼è¿‡ç¨‹",
                    "é‡‘å¥å¿…é¡»æ˜¯åŸåˆ›çš„ã€æœ‰å†²å‡»åŠ›çš„ï¼Œè®©äººå¿ä¸ä½æƒ³æˆªå›¾åˆ†äº«",
                    "è¯­æ°”ï¼šçŠ€åˆ©ã€æŒ‘è¡…ã€ç›´å‡»æœ¬è´¨ï¼Œåƒ Peter Thiel åœ¨åšæŠ•èµ„æ¼”è®²"
                ],
                self_check: [
                    "æˆ‘çš„åå…±è¯†è§‚ç‚¹æ˜¯å¦çœŸçš„ä¸ä¸»æµå…±è¯†ä¸åŒï¼Ÿè¿˜æ˜¯åªæ˜¯æ¢äº†ä¸ªè¯´æ³•ï¼Ÿ",
                    "æˆ‘çš„è¯æ®é“¾æ˜¯å¦è¶³å¤Ÿæœ‰åŠ›ï¼Œèƒ½è¯´æœä¸€ä¸ªæ€€ç–‘è®ºè€…ï¼Ÿ",
                    "æˆ‘çš„é‡‘å¥æ˜¯å¦æœ‰å†²å‡»åŠ›ï¼Œè®©äººç¬¬ä¸€ååº”æ˜¯ã€Œè¿™ä¸å¯¹å§ï¼Ÿã€ï¼Ÿ"
                ]
            }
        };
    </script>
    <script>
        // Global State
        const state = {
            currentRound: 0,
            meetingTopic: '',
            material: '',
            outputs: {},
            followUps: {},
            isRunning: false,
            currentAdvisor: null
        };

        // Get stored API key
        function getStoredApiKey() {
            const provider = document.getElementById('aiProvider').value;
            return localStorage.getItem(`apiKey_${provider}`) || '';
        }

        // Save API key
        function saveApiKey(key) {
            const provider = document.getElementById('aiProvider').value;
            if (key) localStorage.setItem(`apiKey_${provider}`, key);
        }

        // Update model options based on provider
        function updateModelOptions() {
            const provider = document.getElementById('aiProvider').value;
            const modelSelect = document.getElementById('aiModel');
            const config = AI_PROVIDERS[provider];

            modelSelect.innerHTML = config.models.map(m =>
                `<option value="${m}" ${m === config.defaultModel ? 'selected' : ''}>${m}</option>`
            ).join('');

            document.getElementById('apiKey').value = getStoredApiKey();
        }

        // Build prompt with context injection
        function buildPrompt(advisorId) {
            const prompt = PROMPTS[advisorId];
            const advisor = ADVISORS[advisorId];
            let instruction = prompt.instruction;

            // Inject dependencies
            if (advisor.deps.includes('system') && state.outputs.system) {
                instruction = instruction.replace('{system_output}', state.outputs.system);
            }
            if (advisor.deps.includes('strategy') && state.outputs.strategy) {
                instruction = instruction.replace('{strategy_output}', state.outputs.strategy);
            }
            if (advisor.deps.includes('action') && state.outputs.action) {
                instruction = instruction.replace('{action_output}', state.outputs.action);
            }

            // æ·»åŠ  constraints çº¦æŸæ¡ä»¶
            let constraintsText = '';
            if (prompt.constraints && prompt.constraints.length > 0) {
                constraintsText = '\n\n## âš ï¸ çº¦æŸæ¡ä»¶ï¼ˆå¿…é¡»éµå®ˆï¼‰\n' + prompt.constraints.map((c, i) => `${i+1}. ${c}`).join('\n');
            }

            // æ·»åŠ  self_check è‡ªæ£€æ¸…å•
            let selfCheckText = '';
            if (prompt.self_check && prompt.self_check.length > 0) {
                selfCheckText = '\n\n## âœ… è‡ªæ£€æ¸…å•ï¼ˆè¾“å‡ºå‰è¯·ç¡®è®¤ï¼‰\n' + prompt.self_check.map(s => `- [ ] ${s}`).join('\n');
            }

            return {
                role: prompt.role,
                instruction: instruction + constraintsText + selfCheckText,
                material: state.material,
                topic: state.meetingTopic
            };
        }
    </script>
    <script>
        // Call AI API (Standard Template from ai-providers.md)
        async function callAI(advisorId) {
            const providerId = document.getElementById('aiProvider').value;
            const provider = AI_PROVIDERS[providerId];
            if (!provider) throw new Error("æ— æ•ˆçš„æœåŠ¡å•†");

            // Get API Key (priority: key-manager > manual input)
            let apiKey = getProviderKey(providerId);

            // Fallback to manual input for custom provider
            if (!apiKey && providerId === 'custom') {
                apiKey = document.getElementById('manualApiKey')?.value || '';
            }

            if (!apiKey) {
                throw new Error(`æœªæ£€æµ‹åˆ° ${provider.name} çš„ API Keyï¼Œè¯·åœ¨ Key Manager ä¸­é…ç½®`);
            }

            // Get model
            const modelSelect = document.getElementById('aiModel');
            let model = modelSelect?.value || provider.defaultModel;

            // Custom provider model
            if (providerId === 'custom') {
                model = document.getElementById('customModel')?.value || model;
            }

            // Get endpoint
            let endpoint = provider.endpoint;
            if (providerId === 'custom') {
                endpoint = document.getElementById('customEndpoint')?.value || '';
                if (!endpoint) throw new Error("è¯·å…ˆè®¾ç½®è‡ªå®šä¹‰ API ç«¯ç‚¹");
            }

            // Domain security check
            const hostname = getHostname(endpoint);
            if (!isDomainAllowed(hostname)) {
                ensureDomainConsentOrThrow(hostname);
            }

            // Build prompt
            const promptData = buildPrompt(advisorId);
            const systemPrompt = promptData.role;
            const userPrompt = `## ä¼šè®®ä¸»é¢˜\n${promptData.topic || 'æœªå‘½åä¼šè®®'}\n\n## ç´ æå†…å®¹\n${promptData.material}\n\n---\n\n${promptData.instruction}`;

            // Build request
            const headers = { 'Content-Type': 'application/json' };
            let body = {};

            if (providerId === 'claude') {
                // Claude API format
                headers['x-api-key'] = apiKey;
                headers['anthropic-version'] = '2023-06-01';
                headers['anthropic-dangerous-direct-browser-access'] = 'true';
                body = {
                    model: model,
                    max_tokens: 4096,
                    system: systemPrompt,
                    messages: [{ role: 'user', content: userPrompt }]
                };
            } else {
                // OpenAI compatible format
                headers['Authorization'] = `Bearer ${apiKey}`;
                body = {
                    model: model,
                    stream: false,
                    messages: [
                        { role: 'system', content: systemPrompt },
                        { role: 'user', content: userPrompt }
                    ],
                    max_tokens: 4096
                };
            }

            const response = await fetch(endpoint, {
                method: 'POST',
                headers,
                body: JSON.stringify(body)
            });

            if (!response.ok) {
                const errText = await response.text();
                throw new Error(`API Error (${response.status}): ${errText.slice(0, 100)}...`);
            }

            const data = await response.json();

            if (providerId === 'claude') {
                if (!data.content?.[0]?.text) throw new Error('Claude API å“åº”æ ¼å¼å¼‚å¸¸');
                return data.content[0].text;
            }

            if (!data.choices?.[0]?.message?.content) throw new Error('API å“åº”æ ¼å¼å¼‚å¸¸');
            return data.choices[0].message.content;
        }

        // Run advisors for a round
        async function runRound(roundNum) {
            const advisorsInRound = Object.entries(ADVISORS)
                .filter(([_, a]) => a.round === roundNum)
                .map(([id, _]) => id);

            // Run all advisors in parallel
            const promises = advisorsInRound.map(async (advisorId) => {
                const outputEl = document.getElementById(`${advisorId}Output`);
                outputEl.innerHTML = '<div class="spinner"></div>';
                outputEl.classList.add('loading');

                try {
                    const result = await callAI(advisorId);
                    state.outputs[advisorId] = result;
                    outputEl.classList.remove('loading');
                    outputEl.innerHTML = `<div class="content">${formatMarkdown(result)}</div>`;
                } catch (error) {
                    outputEl.classList.remove('loading');
                    outputEl.innerHTML = `<div class="content" style="color: var(--error);">é”™è¯¯: ${error.message}</div>`;
                }
            });

            await Promise.all(promises);
        }

        // Simple markdown formatter
        function formatMarkdown(text) {
            return text
                .replace(/^### (.*$)/gm, '<h3>$1</h3>')
                .replace(/^## (.*$)/gm, '<h2>$1</h2>')
                .replace(/^# (.*$)/gm, '<h1>$1</h1>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/^- \[ \] (.*$)/gm, '<div>â˜ $1</div>')
                .replace(/^- \[x\] (.*$)/gm, '<div>â˜‘ $1</div>')
                .replace(/^- (.*$)/gm, '<div>â€¢ $1</div>')
                .replace(/^> (.*$)/gm, '<blockquote style="border-left: 3px solid var(--primary); padding-left: 12px; margin: 8px 0; color: var(--text-muted);">$1</blockquote>')
                .replace(/\n\n/g, '<br><br>')
                .replace(/\n/g, '<br>');
        }

        // Test connection function
        async function testConnection() {
            const resultEl = document.getElementById('testResult');
            resultEl.textContent = 'æµ‹è¯•ä¸­...';
            resultEl.className = 'test-result';

            try {
                const providerId = document.getElementById('aiProvider').value;
                const provider = AI_PROVIDERS[providerId];

                let apiKey = getProviderKey(providerId);
                if (!apiKey && providerId === 'custom') {
                    apiKey = document.getElementById('manualApiKey')?.value || '';
                }

                if (!apiKey) {
                    throw new Error('æœªæ£€æµ‹åˆ° API Key');
                }

                let endpoint = provider.endpoint;
                if (providerId === 'custom') {
                    endpoint = document.getElementById('customEndpoint')?.value || '';
                }

                if (!endpoint) {
                    throw new Error('æœªè®¾ç½® API ç«¯ç‚¹');
                }

                resultEl.textContent = 'âœ… è¿æ¥é…ç½®æ­£ç¡®';
                resultEl.className = 'test-result success';
            } catch (error) {
                resultEl.textContent = `âŒ ${error.message}`;
                resultEl.className = 'test-result error';
            }
        }
    </script>
    <script>
        // UI Functions
        function toggleRound(roundNum) {
            const panel = document.getElementById(`round${roundNum}`);
            panel.classList.toggle('expanded');
        }

        function updateProgress(roundNum, status) {
            const steps = document.querySelectorAll('.progress-step');
            steps.forEach((step, idx) => {
                const stepRound = idx + 1;
                step.classList.remove('active', 'completed');
                if (stepRound < roundNum) {
                    step.classList.add('completed');
                } else if (stepRound === roundNum) {
                    step.classList.add('active');
                }
            });

            // Update round status
            for (let i = 1; i <= 3; i++) {
                const statusEl = document.getElementById(`round${i}Status`);
                if (i < roundNum) {
                    statusEl.textContent = 'å·²å®Œæˆ';
                    statusEl.style.background = 'var(--success)';
                    statusEl.style.color = 'white';
                } else if (i === roundNum) {
                    statusEl.textContent = status || 'è¿›è¡Œä¸­';
                    statusEl.style.background = 'var(--primary)';
                    statusEl.style.color = 'white';
                } else {
                    statusEl.textContent = `ç­‰å¾…ç¬¬${i-1}è½®`;
                    statusEl.style.background = 'var(--bg-input)';
                    statusEl.style.color = 'var(--text-muted)';
                }
            }
        }

        // Start meeting
        async function startMeeting() {
            const material = document.getElementById('materialInput').value.trim();
            if (!material) {
                alert('è¯·è¾“å…¥ç´ æå†…å®¹');
                return;
            }

            // Check API Key using new getProviderKey method
            const providerId = document.getElementById('aiProvider').value;
            let apiKey = getProviderKey(providerId);

            // Fallback for custom provider
            if (!apiKey && providerId === 'custom') {
                apiKey = document.getElementById('manualApiKey')?.value?.trim() || '';
            }

            if (!apiKey) {
                alert(`è¯·å…ˆé…ç½® ${AI_PROVIDERS[providerId]?.name || 'AI'} çš„ API Keyï¼ˆç‚¹å‡»å³ä¸Šè§’é½¿è½®å›¾æ ‡ï¼‰`);
                return;
            }

            state.material = material;
            state.meetingTopic = document.getElementById('meetingTopic').value.trim();
            state.currentRound = 1;
            state.isRunning = true;

            document.getElementById('startBtn').disabled = true;
            document.getElementById('startBtn').textContent = 'ğŸ”„ ä¼šè®®è¿›è¡Œä¸­...';

            // Expand round 1
            document.getElementById('round1').classList.add('expanded');
            updateProgress(1, 'è¿›è¡Œä¸­');

            await runRound(1);

            updateProgress(1, 'å·²å®Œæˆ');
            document.getElementById('round1Status').textContent = 'å·²å®Œæˆ';

            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('nextRoundBtn').style.display = 'inline-block';
            state.isRunning = false;
        }

        // Next round
        async function nextRound() {
            if (state.currentRound >= 3) return;

            state.currentRound++;
            state.isRunning = true;

            document.getElementById('nextRoundBtn').disabled = true;
            document.getElementById('nextRoundBtn').textContent = 'ğŸ”„ è¿›è¡Œä¸­...';

            // Expand current round
            document.getElementById(`round${state.currentRound}`).classList.add('expanded');
            updateProgress(state.currentRound, 'è¿›è¡Œä¸­');

            await runRound(state.currentRound);

            updateProgress(state.currentRound, 'å·²å®Œæˆ');

            if (state.currentRound >= 3) {
                document.getElementById('nextRoundBtn').style.display = 'none';
                document.getElementById('exportSection').style.display = 'block';
                saveMeeting();
            } else {
                document.getElementById('nextRoundBtn').disabled = false;
                document.getElementById('nextRoundBtn').textContent = 'â¡ï¸ ä¸‹ä¸€è½®';
            }

            state.isRunning = false;
        }

        // Copy advisor output
        function copyAdvisor(advisorId) {
            const content = state.outputs[advisorId];
            if (content) {
                navigator.clipboard.writeText(content);
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿');
            }
        }

        // Input tabs
        function setupInputTabs() {
            const tabs = document.querySelectorAll('.input-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    const tabType = tab.dataset.tab;
                    document.getElementById('materialInput').style.display = tabType === 'text' ? 'block' : 'none';
                    document.getElementById('fileDrop').classList.toggle('active', tabType === 'file');
                    document.getElementById('urlInput').classList.toggle('active', tabType === 'url');
                });
            });
        }
    </script>
    <script>
        // Follow-up functionality
        function openFollowUp(advisorId) {
            if (!state.outputs[advisorId]) {
                alert('è¯·å…ˆç­‰å¾…è¯¥é¡¾é—®å‘è¨€å®Œæˆ');
                return;
            }

            state.currentAdvisor = advisorId;
            const advisor = ADVISORS[advisorId];

            document.getElementById('followUpTitle').textContent = `è¿½é—® ${advisor.name} Â· ${advisor.title}`;
            document.getElementById('followUpHistory').innerHTML = '';
            document.getElementById('followUpQuestion').value = '';

            // Show previous follow-ups
            if (state.followUps[advisorId]) {
                state.followUps[advisorId].forEach(item => {
                    addFollowUpItem(item.role, item.content);
                });
            }

            document.getElementById('followUpModal').classList.add('active');
        }

        function closeFollowUp() {
            document.getElementById('followUpModal').classList.remove('active');
            state.currentAdvisor = null;
        }

        function addFollowUpItem(role, content) {
            const historyEl = document.getElementById('followUpHistory');
            const item = document.createElement('div');
            item.className = `followup-item ${role}`;
            item.innerHTML = `<strong>${role === 'user' ? 'ä½ ' : ADVISORS[state.currentAdvisor].name}:</strong><br>${content}`;
            historyEl.appendChild(item);
            historyEl.scrollTop = historyEl.scrollHeight;
        }

        async function sendFollowUp() {
            const question = document.getElementById('followUpQuestion').value.trim();
            if (!question) return;

            const advisorId = state.currentAdvisor;
            if (!state.followUps[advisorId]) {
                state.followUps[advisorId] = [];
            }

            state.followUps[advisorId].push({ role: 'user', content: question });
            addFollowUpItem('user', question);
            document.getElementById('followUpQuestion').value = '';

            // Build follow-up prompt
            const prompt = PROMPTS[advisorId];
            const previousOutput = state.outputs[advisorId];
            const followUpHistory = state.followUps[advisorId]
                .map(item => `${item.role === 'user' ? 'ç”¨æˆ·è¿½é—®' : 'é¡¾é—®å›ç­”'}: ${item.content}`)
                .join('\n\n');

            try {
                const provider = document.getElementById('aiProvider').value;
                const model = document.getElementById('aiModel').value;
                const apiKey = document.getElementById('apiKey').value;
                const config = AI_PROVIDERS[provider];

                const systemPrompt = prompt.role;
                const userPrompt = `## ä¹‹å‰çš„åˆ†æ\n${previousOutput}\n\n## è¿½é—®å†å²\n${followUpHistory}\n\nè¯·é’ˆå¯¹ç”¨æˆ·çš„æœ€æ–°è¿½é—®è¿›è¡Œå›ç­”ï¼Œä¿æŒä½ çš„è§’è‰²ç‰¹ç‚¹ã€‚`;

                let response;
                if (provider === 'anthropic') {
                    const res = await fetch(config.baseUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'x-api-key': apiKey,
                            'anthropic-version': '2023-06-01',
                            'anthropic-dangerous-direct-browser-access': 'true'
                        },
                        body: JSON.stringify({
                            model: model,
                            max_tokens: 2048,
                            system: systemPrompt,
                            messages: [{ role: 'user', content: userPrompt }]
                        })
                    });
                    const data = await res.json();
                    response = data.content[0].text;
                } else {
                    const res = await fetch(config.baseUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: model,
                            messages: [
                                { role: 'system', content: systemPrompt },
                                { role: 'user', content: userPrompt }
                            ],
                            max_tokens: 2048
                        })
                    });
                    const data = await res.json();
                    response = data.choices[0].message.content;
                }

                state.followUps[advisorId].push({ role: 'assistant', content: response });
                addFollowUpItem('assistant', formatMarkdown(response));
            } catch (error) {
                addFollowUpItem('assistant', `é”™è¯¯: ${error.message}`);
            }
        }
    </script>
    <script>
        // History management
        function saveMeeting() {
            const meetings = JSON.parse(localStorage.getItem('meetings') || '[]');
            const meeting = {
                id: Date.now(),
                topic: state.meetingTopic || 'æœªå‘½åä¼šè®®',
                date: new Date().toLocaleString('zh-CN'),
                material: state.material.substring(0, 200) + '...',
                outputs: state.outputs,
                followUps: state.followUps
            };

            meetings.unshift(meeting);
            if (meetings.length > 10) meetings.pop();
            localStorage.setItem('meetings', JSON.stringify(meetings));
            loadHistory();
        }

        function loadHistory() {
            const meetings = JSON.parse(localStorage.getItem('meetings') || '[]');
            const listEl = document.getElementById('historyList');

            if (meetings.length === 0) {
                listEl.innerHTML = '<p style="color: var(--text-muted); font-size: 0.9rem;">æš‚æ— å†å²ä¼šè®®</p>';
                return;
            }

            listEl.innerHTML = meetings.map(m => `
                <div class="history-item" onclick="loadMeeting(${m.id})">
                    <div class="title">${m.topic}</div>
                    <div class="date">${m.date}</div>
                </div>
            `).join('');
        }

        function loadMeeting(id) {
            const meetings = JSON.parse(localStorage.getItem('meetings') || '[]');
            const meeting = meetings.find(m => m.id === id);
            if (!meeting) return;

            state.meetingTopic = meeting.topic;
            state.outputs = meeting.outputs;
            state.followUps = meeting.followUps || {};
            state.currentRound = 3;

            document.getElementById('meetingTopic').value = meeting.topic;

            // Display outputs
            Object.entries(meeting.outputs).forEach(([advisorId, content]) => {
                const outputEl = document.getElementById(`${advisorId}Output`);
                if (outputEl) {
                    outputEl.innerHTML = `<div class="content">${formatMarkdown(content)}</div>`;
                }
            });

            // Expand all rounds
            for (let i = 1; i <= 3; i++) {
                document.getElementById(`round${i}`).classList.add('expanded');
            }

            updateProgress(4, 'å·²å®Œæˆ');
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('exportSection').style.display = 'block';
            toggleHistory();
        }

        function toggleHistory() {
            document.getElementById('historyPanel').classList.toggle('open');
        }
    </script>
    <script>
        // Export functions
        function exportMarkdown() {
            const topic = state.meetingTopic || 'æœªå‘½åä¼šè®®';
            const date = new Date().toLocaleString('zh-CN');

            let md = `# æ™ºå›Šå›¢ä¼šè®®çºªè¦\n\n`;
            md += `**ä¼šè®®ä¸»é¢˜**: ${topic}\n`;
            md += `**ä¼šè®®æ—¶é—´**: ${date}\n\n`;
            md += `---\n\n`;

            const rounds = [
                { num: 1, name: 'ç¬¬ä¸€è½®ï¼šå®šä¹‰é—®é¢˜', advisors: ['system', 'strategy'] },
                { num: 2, name: 'ç¬¬äºŒè½®ï¼šåˆ¶å®šæ–¹æ¡ˆ', advisors: ['action', 'leverage', 'persona'] },
                { num: 3, name: 'ç¬¬ä¸‰è½®ï¼šå‹åŠ›æµ‹è¯•', advisors: ['assumption', 'debate', 'contrarian'] }
            ];

            rounds.forEach(round => {
                md += `## ${round.name}\n\n`;
                round.advisors.forEach(advisorId => {
                    const advisor = ADVISORS[advisorId];
                    const content = state.outputs[advisorId];
                    if (content) {
                        md += `### ${advisor.name} Â· ${advisor.title}\n\n`;
                        md += content + '\n\n';
                    }
                });
            });

            md += `---\n\n*ç”±å…¨ç»´æ·±åº¦è§£æ v2 ç”Ÿæˆ*`;

            downloadFile(`ä¼šè®®çºªè¦_${topic}_${date.replace(/[/:]/g, '-')}.md`, md);
        }

        function exportJSON() {
            const data = {
                topic: state.meetingTopic,
                date: new Date().toISOString(),
                outputs: state.outputs,
                followUps: state.followUps
            };

            downloadFile(`ä¼šè®®æ•°æ®_${state.meetingTopic || 'æœªå‘½å'}.json`, JSON.stringify(data, null, 2));
        }

        function copyAll() {
            const allContent = Object.entries(state.outputs)
                .map(([id, content]) => {
                    const advisor = ADVISORS[id];
                    return `## ${advisor.name} Â· ${advisor.title}\n\n${content}`;
                })
                .join('\n\n---\n\n');

            navigator.clipboard.writeText(allContent);
            alert('å·²å¤åˆ¶å…¨éƒ¨å†…å®¹åˆ°å‰ªè´´æ¿');
        }

        function downloadFile(filename, content) {
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
    <script>
        // Toggle settings panel
        function toggleSettings() {
            const panel = document.getElementById('settingsPanel');
            const btn = document.querySelector('.settings-toggle');
            panel.classList.toggle('hidden');
            btn.classList.toggle('active');
        }

        // Provider change handler
        function onProviderChange() {
            const providerId = document.getElementById('aiProvider').value;
            const provider = AI_PROVIDERS[providerId];
            const modelSelect = document.getElementById('aiModel');
            const customConfig = document.getElementById('customProviderConfig');

            // Update model options
            modelSelect.innerHTML = '';
            if (provider && provider.models && provider.models.length > 0) {
                provider.models.forEach(model => {
                    const option = document.createElement('option');
                    option.value = model;
                    option.textContent = model;
                    if (model === provider.defaultModel) option.selected = true;
                    modelSelect.appendChild(option);
                });
            }

            // Show/hide custom config
            if (providerId === 'custom') {
                customConfig.classList.remove('hidden');
            } else {
                customConfig.classList.add('hidden');
            }

            // Update key status
            updateKeyStatus();
        }

        // Update key status display
        function updateKeyStatus() {
            const providerId = document.getElementById('aiProvider').value;
            const status = getKeyStatus(providerId);
            const statusEl = document.getElementById('keyStatus');
            const dot = statusEl.querySelector('.status-dot');
            const text = statusEl.querySelector('.status-text');

            if (status.hasKey) {
                dot.className = 'status-dot connected';
                text.textContent = status.source === 'key-manager' ? 'å·²ä» Key Manager è¯»å–' : 'å·²æ‰‹åŠ¨è¾“å…¥';
            } else {
                dot.className = 'status-dot disconnected';
                text.textContent = 'æœªé…ç½®';
            }
        }

        // File handling
        function setupFileHandling() {
            const fileDrop = document.getElementById('fileDrop');
            const fileInput = document.getElementById('fileInput');

            fileDrop.addEventListener('click', () => fileInput.click());

            fileDrop.addEventListener('dragover', (e) => {
                e.preventDefault();
                fileDrop.style.borderColor = 'var(--primary)';
            });

            fileDrop.addEventListener('dragleave', () => {
                fileDrop.style.borderColor = 'var(--border)';
            });

            fileDrop.addEventListener('drop', (e) => {
                e.preventDefault();
                fileDrop.style.borderColor = 'var(--border)';
                const file = e.dataTransfer.files[0];
                if (file) handleFile(file);
            });

            fileInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) handleFile(file);
            });
        }

        async function handleFile(file) {
            const ext = file.name.split('.').pop().toLowerCase();

            if (ext === 'txt' || ext === 'md') {
                const text = await file.text();
                document.getElementById('materialInput').value = text;
                document.querySelector('[data-tab="text"]').click();
            } else if (ext === 'pdf') {
                await handlePdfFile(file);
            }
        }

        // PDF parsing using PDF.js
        async function handlePdfFile(file) {
            const fileDrop = document.getElementById('fileDrop');
            const originalText = fileDrop.innerHTML;

            try {
                fileDrop.innerHTML = '<p>ğŸ“„ æ­£åœ¨è§£æ PDF...</p>';

                // Set worker path
                pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

                // Read file as ArrayBuffer
                const arrayBuffer = await file.arrayBuffer();

                // Load PDF document
                const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                const totalPages = pdf.numPages;
                let fullText = '';

                fileDrop.innerHTML = `<p>ğŸ“„ æ­£åœ¨æå–æ–‡æœ¬ (0/${totalPages} é¡µ)...</p>`;

                // Extract text from each page
                for (let i = 1; i <= totalPages; i++) {
                    const page = await pdf.getPage(i);
                    const textContent = await page.getTextContent();
                    const pageText = textContent.items.map(item => item.str).join(' ');
                    fullText += pageText + '\n\n';

                    fileDrop.innerHTML = `<p>ğŸ“„ æ­£åœ¨æå–æ–‡æœ¬ (${i}/${totalPages} é¡µ)...</p>`;
                }

                // Set the extracted text
                document.getElementById('materialInput').value = fullText.trim();
                document.querySelector('[data-tab="text"]').click();

                fileDrop.innerHTML = originalText;
                alert(`âœ… PDF è§£æå®Œæˆï¼å…± ${totalPages} é¡µï¼Œå·²æå–æ–‡æœ¬å†…å®¹ã€‚`);

            } catch (error) {
                console.error('PDF parsing error:', error);
                fileDrop.innerHTML = originalText;
                alert('âŒ PDF è§£æå¤±è´¥ï¼š' + error.message);
            }
        }

        async function fetchUrl() {
            const url = document.getElementById('urlField').value.trim();
            if (!url) return;

            alert('URL æŠ“å–åŠŸèƒ½å¼€å‘ä¸­ï¼Œè¯·å…ˆå¤åˆ¶ç½‘é¡µå†…å®¹');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            onProviderChange();  // Initialize provider, models, and key status
            setupInputTabs();
            setupFileHandling();
            loadHistory();

            // Enter key for follow-up
            const followUpEl = document.getElementById('followUpQuestion');
            if (followUpEl) {
                followUpEl.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendFollowUp();
                    }
                });
            }
        });
    </script>
        <!-- Footer -->
        <footer class="footer">
            <p>å…¨ç»´æ·±åº¦è§£æ v2 - è™šæ‹Ÿæ™ºå›Šå›¢ä¼šè®®</p>
            <p style="margin-top: 8px;">åŸºäº 8 ä½ AI é¡¾é—®çš„å¤šç»´åº¦åˆ†ææ¡†æ¶ | æ•°æ®ä»…å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨</p>
        </footer>
    </div>
</body>
</html>
